!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).bundle=e()}}(function(){return function o(c,i,s){function f(n,e){if(!i[n]){if(!c[n]){var a="function"==typeof require&&require;if(!e&&a)return a(n,!0);if(l)return l(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var r=i[n]={exports:{}};c[n][0].call(r.exports,function(e){return f(c[n][1][e]||e)},r,r.exports,o,c,i,s)}return i[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)f(s[e]);return f}({1:[function(e,n,a){var t=function(e){var f="b",l="w",s=-1,h="p",N="n",R="b",B="r",x="q",p="k",t="pnbrqkPNBRQK",n="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",m=["1-0","0-1","1/2-1/2","*"],k={b:[16,32,17,15],w:[-16,-32,-17,-15]},w={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},u=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],d=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],v={p:0,n:1,b:2,r:3,q:4,k:5},r={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},y={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},K=7,Q=6,M=1,q=0,j={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},b={w:[{square:j.a1,flag:y.QSIDE_CASTLE},{square:j.h1,flag:y.KSIDE_CASTLE}],b:[{square:j.a8,flag:y.QSIDE_CASTLE},{square:j.h8,flag:y.KSIDE_CASTLE}]},O=new Array(128),I={w:s,b:s},C=l,A={w:0,b:0},E=s,P=0,g=1,_=[],S={};function i(){O=new Array(128),I={w:s,b:s},C=l,A={w:0,b:0},E=s,P=0,g=1,_=[],S={},F(z())}function T(){L(n)}function L(e){var n=e.split(/\s+/),a=n[0],t=0;if(!D(e).valid)return!1;i();for(var r=0;r<a.length;r++){var o=a.charAt(r);if("/"===o)t+=8;else if(-1!=="0123456789".indexOf(o))t+=parseInt(o,10);else{var c=o<"a"?l:f;W({type:o.toLowerCase(),color:c},ce(t)),t++}}return C=n[1],-1<n[2].indexOf("K")&&(A.w|=y.KSIDE_CASTLE),-1<n[2].indexOf("Q")&&(A.w|=y.QSIDE_CASTLE),-1<n[2].indexOf("k")&&(A.b|=y.KSIDE_CASTLE),-1<n[2].indexOf("q")&&(A.b|=y.QSIDE_CASTLE),E="-"===n[3]?s:j[n[3]],P=parseInt(n[4],10),g=parseInt(n[5],10),F(z()),!0}function D(e){var n="No errors.",a="FEN string must contain six space-delimited fields.",t="6th field (move number) must be a positive integer.",r="5th field (half move counter) must be a non-negative integer.",o="4th field (en-passant square) is invalid.",c="3rd field (castling availability) is invalid.",i="2nd field (side to move) is invalid.",s="1st field (piece positions) does not contain 8 '/'-delimited rows.",f="1st field (piece positions) is invalid [consecutive numbers].",l="1st field (piece positions) is invalid [invalid piece].",p="1st field (piece positions) is invalid [row too large].",u="Illegal en-passant square",d=e.split(/\s+/);if(6!==d.length)return{valid:!1,error_number:1,error:a};if(isNaN(d[5])||parseInt(d[5],10)<=0)return{valid:!1,error_number:2,error:t};if(isNaN(d[4])||parseInt(d[4],10)<0)return{valid:!1,error_number:3,error:r};if(!/^(-|[abcdefgh][36])$/.test(d[3]))return{valid:!1,error_number:4,error:o};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(d[2]))return{valid:!1,error_number:5,error:c};if(!/^(w|b)$/.test(d[1]))return{valid:!1,error_number:6,error:i};var m=d[0].split("/");if(8!==m.length)return{valid:!1,error_number:7,error:s};for(var v=0;v<m.length;v++){for(var b=0,P=!1,g=0;g<m[v].length;g++)if(isNaN(m[v][g])){if(!/^[prnbqkPRNBQK]$/.test(m[v][g]))return{valid:!1,error_number:9,error:l};b+=1,P=!1}else{if(P)return{valid:!1,error_number:8,error:f};b+=parseInt(m[v][g],10),P=!0}if(8!==b)return{valid:!1,error_number:10,error:p}}return"3"==d[3][1]&&"w"==d[1]||"6"==d[3][1]&&"b"==d[1]?{valid:!1,error_number:11,error:u}:{valid:!0,error_number:0,error:n}}function z(){for(var e=0,n="",a=j.a8;a<=j.h1;a++){if(null==O[a])e++;else{0<e&&(n+=e,e=0);var t=O[a].color,r=O[a].type;n+=t===l?r.toUpperCase():r.toLowerCase()}a+1&136&&(0<e&&(n+=e),a!==j.h1&&(n+="/"),e=0,a+=8)}var o="";A[l]&y.KSIDE_CASTLE&&(o+="K"),A[l]&y.QSIDE_CASTLE&&(o+="Q"),A[f]&y.KSIDE_CASTLE&&(o+="k"),A[f]&y.QSIDE_CASTLE&&(o+="q"),o=o||"-";var c=E===s?"-":ce(E);return[n,C,o,c,P,g].join(" ")}function U(e){for(var n=0;n<e.length;n+=2)"string"==typeof e[n]&&"string"==typeof e[n+1]&&(S[e[n]]=e[n+1]);return S}function F(e){0<_.length||(e!==n?(S.SetUp="1",S.FEN=e):(delete S.SetUp,delete S.FEN))}function o(e){var n=O[j[e]];return n?{type:n.type,color:n.color}:null}function W(e,n){if(!("type"in e&&"color"in e))return!1;if(-1===t.indexOf(e.type.toLowerCase()))return!1;if(!(n in j))return!1;var a=j[n];return(e.type!=p||I[e.color]==s||I[e.color]==a)&&(O[a]={type:e.type,color:e.color},e.type===p&&(I[e.color]=a),F(z()),!0)}function G(e,n,a,t,r){var o={color:C,from:n,to:a,flags:t,piece:e[n].type};return r&&(o.flags|=y.PROMOTION,o.promotion=r),e[a]?o.captured=e[a].type:t&y.EP_CAPTURE&&(o.captured=h),o}function H(e){function n(e,n,a,t,r){if(e[a].type!==h||re(t)!==q&&re(t)!==K)n.push(G(e,a,t,r));else for(var o=[x,B,R,N],c=0,i=o.length;c<i;c++)n.push(G(e,a,t,r,o[c]))}var a=[],t=C,r=ie(t),o={b:M,w:Q},c=j.a8,i=j.h1,s=!1,f=!(void 0!==e&&"legal"in e)||e.legal;if(void 0!==e&&"square"in e){if(!(e.square in j))return[];c=i=j[e.square],s=!0}for(var l=c;l<=i;l++)if(136&l)l+=7;else{var p=O[l];if(null!=p&&p.color===t)if(p.type===h){var u=l+k[t][0];if(null==O[u]){n(O,a,l,u,y.NORMAL);u=l+k[t][1];o[t]===re(l)&&null==O[u]&&n(O,a,l,u,y.BIG_PAWN)}for(d=2;d<4;d++){136&(u=l+k[t][d])||(null!=O[u]&&O[u].color===r?n(O,a,l,u,y.CAPTURE):u===E&&n(O,a,l,E,y.EP_CAPTURE))}}else for(var d=0,m=w[p.type].length;d<m;d++){var v=w[p.type][d];for(u=l;!(136&(u+=v));){if(null!=O[u]){if(O[u].color===t)break;n(O,a,l,u,y.CAPTURE);break}if(n(O,a,l,u,y.NORMAL),"n"===p.type||"k"===p.type)break}}}if(!s||i===I[t]){if(A[t]&y.KSIDE_CASTLE){var b=(P=I[t])+2;null!=O[P+1]||null!=O[b]||Z(r,I[t])||Z(r,P+1)||Z(r,b)||n(O,a,I[t],b,y.KSIDE_CASTLE)}if(A[t]&y.QSIDE_CASTLE){var P;b=(P=I[t])-2;null!=O[P-1]||null!=O[P-2]||null!=O[P-3]||Z(r,I[t])||Z(r,P-1)||Z(r,b)||n(O,a,I[t],b,y.QSIDE_CASTLE)}}if(!f)return a;var g=[];for(l=0,m=a.length;l<m;l++)ne(a[l]),V(t)||g.push(a[l]),ae();return g}function $(e,n){var a="";if(e.flags&y.KSIDE_CASTLE)a="O-O";else if(e.flags&y.QSIDE_CASTLE)a="O-O-O";else{var t=function(e,n){for(var a=H({legal:!n}),t=e.from,r=e.to,o=e.piece,c=0,i=0,s=0,f=0,l=a.length;f<l;f++){var p=a[f].from,u=a[f].to,d=a[f].piece;o===d&&t!==p&&r===u&&(c++,re(t)===re(p)&&i++,oe(t)===oe(p)&&s++)}if(0<c)return 0<i&&0<s?ce(t):0<s?ce(t).charAt(1):ce(t).charAt(0);return""}(e,n);e.piece!==h&&(a+=e.piece.toUpperCase()+t),e.flags&(y.CAPTURE|y.EP_CAPTURE)&&(e.piece===h&&(a+=ce(e.from)[0]),a+="x"),a+=ce(e.to),e.flags&y.PROMOTION&&(a+="="+e.promotion.toUpperCase())}return ne(e),c()&&(J()?a+="#":a+="+"),ae(),a}function X(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function Z(e,n){for(var a=j.a8;a<=j.h1;a++)if(136&a)a+=7;else if(null!=O[a]&&O[a].color===e){var t=O[a],r=a-n,o=r+119;if(u[o]&1<<v[t.type]){if(t.type===h){if(0<r){if(t.color===l)return!0}else if(t.color===f)return!0;continue}if("n"===t.type||"k"===t.type)return!0;for(var c=d[o],i=a+c,s=!1;i!==n;){if(null!=O[i]){s=!0;break}i+=c}if(!s)return!0}}return!1}function V(e){return Z(ie(e),I[e])}function c(){return V(C)}function J(){return c()&&0===H().length}function a(){return!c()&&0===H().length}function Y(){for(var e={},n=[],a=0,t=0,r=j.a8;r<=j.h1;r++)if(t=(t+1)%2,136&r)r+=7;else{var o=O[r];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===R&&n.push(t),a++)}if(2===a)return!0;if(3===a&&(1===e[R]||1===e[N]))return!0;if(a===e[R]+2){var c=0,i=n.length;for(r=0;r<i;r++)c+=n[r];if(0===c||c===i)return!0}return!1}function ee(){for(var e=[],n={},a=!1;;){var t=ae();if(!t)break;e.push(t)}for(;;){var r=z().split(" ").slice(0,4).join(" ");if(n[r]=r in n?n[r]+1:1,3<=n[r]&&(a=!0),!e.length)break;ne(e.pop())}return a}function ne(e){var n,a=C,t=ie(a);if(n=e,_.push({move:n,kings:{b:I.b,w:I.w},turn:C,castling:{b:A.b,w:A.w},ep_square:E,half_moves:P,move_number:g}),O[e.to]=O[e.from],O[e.from]=null,e.flags&y.EP_CAPTURE&&(C===f?O[e.to-16]=null:O[e.to+16]=null),e.flags&y.PROMOTION&&(O[e.to]={type:e.promotion,color:a}),O[e.to].type===p){if(I[O[e.to].color]=e.to,e.flags&y.KSIDE_CASTLE){var r=e.to-1,o=e.to+1;O[r]=O[o],O[o]=null}else if(e.flags&y.QSIDE_CASTLE){r=e.to+1,o=e.to-2;O[r]=O[o],O[o]=null}A[a]=""}if(A[a])for(var c=0,i=b[a].length;c<i;c++)if(e.from===b[a][c].square&&A[a]&b[a][c].flag){A[a]^=b[a][c].flag;break}if(A[t])for(c=0,i=b[t].length;c<i;c++)if(e.to===b[t][c].square&&A[t]&b[t][c].flag){A[t]^=b[t][c].flag;break}E=e.flags&y.BIG_PAWN?"b"===C?e.to-16:e.to+16:s,e.piece===h?P=0:e.flags&(y.CAPTURE|y.EP_CAPTURE)?P=0:P++,C===f&&g++,C=ie(C)}function ae(){var e=_.pop();if(null==e)return null;var n=e.move;I=e.kings,C=e.turn,A=e.castling,E=e.ep_square,P=e.half_moves,g=e.move_number;var a,t,r=C,o=ie(C);if(O[n.from]=O[n.to],O[n.from].type=n.piece,O[n.to]=null,n.flags&y.CAPTURE)O[n.to]={type:n.captured,color:o};else if(n.flags&y.EP_CAPTURE){var c;c=r===f?n.to-16:n.to+16,O[c]={type:h,color:o}}n.flags&(y.KSIDE_CASTLE|y.QSIDE_CASTLE)&&(n.flags&y.KSIDE_CASTLE?(a=n.to+1,t=n.to-1):n.flags&y.QSIDE_CASTLE&&(a=n.to-2,t=n.to+1),O[a]=O[t],O[t]=null);return n}function te(e,n){var a=X(e);if(n){var t=a.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(t)var r=t[1],o=t[2],c=t[3],i=t[4]}for(var s=H(),f=0,l=s.length;f<l;f++){if(a===X($(s[f]))||n&&a===X($(s[f],!0)))return s[f];if(t&&(!r||r.toLowerCase()==s[f].piece)&&j[o]==s[f].from&&j[c]==s[f].to&&(!i||i.toLowerCase()==s[f].promotion))return s[f]}return null}function re(e){return e>>4}function oe(e){return 15&e}function ce(e){var n=oe(e),a=re(e);return"abcdefgh".substring(n,n+1)+"87654321".substring(a,a+1)}function ie(e){return e===l?f:l}function se(e){var n=function e(n){var a=n instanceof Array?[]:{};for(var t in n)a[t]="object"==typeof t?e(n[t]):n[t];return a}(e);n.san=$(n,!1),n.to=ce(n.to),n.from=ce(n.from);var a="";for(var t in y)y[t]&n.flags&&(a+=r[t]);return n.flags=a,n}function fe(e){return e.replace(/^\s+|\s+$/g,"")}return L(void 0===e?n:e),{WHITE:l,BLACK:f,PAWN:h,KNIGHT:N,BISHOP:R,ROOK:B,QUEEN:x,KING:p,SQUARES:function(){for(var e=[],n=j.a8;n<=j.h1;n++)136&n?n+=7:e.push(ce(n));return e}(),FLAGS:r,load:function(e){return L(e)},reset:function(){return T()},moves:function(e){for(var n=H(e),a=[],t=0,r=n.length;t<r;t++)void 0!==e&&"verbose"in e&&e.verbose?a.push(se(n[t])):a.push($(n[t],!1));return a},in_check:function(){return c()},in_checkmate:function(){return J()},in_stalemate:function(){return a()},in_draw:function(){return 100<=P||a()||Y()||ee()},insufficient_material:function(){return Y()},in_threefold_repetition:function(){return ee()},game_over:function(){return 100<=P||J()||a()||Y()||ee()},validate_fen:function(e){return D(e)},fen:function(){return z()},pgn:function(e){var n="object"==typeof e&&"string"==typeof e.newline_char?e.newline_char:"\n",a="object"==typeof e&&"number"==typeof e.max_width?e.max_width:0,t=[],r=!1;for(var o in S)t.push("["+o+' "'+S[o]+'"]'+n),r=!0;r&&_.length&&t.push(n);for(var c=[];0<_.length;)c.push(ae());for(var i=[],s="";0<c.length;){var f=c.pop();_.length||"b"!==f.color?"w"===f.color&&(s.length&&i.push(s),s=g+"."):s=g+". ...",s=s+" "+$(f,!1),ne(f)}if(s.length&&i.push(s),void 0!==S.Result&&i.push(S.Result),0===a)return t.join("")+i.join(" ");var l=0;for(o=0;o<i.length;o++)l+i[o].length>a&&0!==o?(" "===t[t.length-1]&&t.pop(),t.push(n),l=0):0!==o&&(t.push(" "),l++),t.push(i[o]),l+=i[o].length;return t.join("")},load_pgn:function(e,n){var a=void 0!==n&&"sloppy"in n&&n.sloppy;function s(e){return e.replace(/\\/g,"\\")}var t="object"==typeof n&&"string"==typeof n.newline_char?n.newline_char:"\r?\n",r=new RegExp("^(\\[(.|"+s(t)+")*\\])("+s(t)+")*1.("+s(t)+"|.)*$","g"),o=e.replace(r,"$1");"["!==o[0]&&(o=""),T();var c=function(e,n){for(var a="object"==typeof n&&"string"==typeof n.newline_char?n.newline_char:"\r?\n",t={},r=e.split(new RegExp(s(a))),o="",c="",i=0;i<r.length;i++)o=r[i].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),c=r[i].replace(/^\[[A-Za-z]+\s"(.*)"\]$/,"$1"),0<fe(o).length&&(t[o]=c);return t}(o,n);for(var i in c)U([i,c[i]]);if("1"===c.SetUp&&!("FEN"in c&&L(c.FEN)))return!1;var f=e.replace(o,"").replace(new RegExp(s(t),"g")," ");f=f.replace(/(\{[^}]+\})+?/g,"");for(var l=/(\([^\(\)]+\))+?/g;l.test(f);)f=f.replace(l,"");var p=fe(f=(f=(f=f.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));p=p.join(",").replace(/,,+/g,",").split(",");for(var u="",d=0;d<p.length-1;d++){if(null==(u=te(p[d],a)))return!1;ne(u)}if(u=p[p.length-1],-1<m.indexOf(u))(function(e){for(var n in e)return!0;return!1})(S)&&void 0===S.Result&&U(["Result",u]);else{if(null==(u=te(u,a)))return!1;ne(u)}return!0},header:function(){return U(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",n=j.a8;n<=j.h1;n++){if(0===oe(n)&&(e+=" "+"87654321"[re(n)]+" |"),null==O[n])e+=" . ";else{var a=O[n].type;e+=" "+(O[n].color===l?a.toUpperCase():a.toLowerCase())+" "}n+1&136&&(e+="|\n",n+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h\n"}()},turn:function(){return C},move:function(e,n){var a=void 0!==n&&"sloppy"in n&&n.sloppy,t=null;if("string"==typeof e)t=te(e,a);else if("object"==typeof e)for(var r=H(),o=0,c=r.length;o<c;o++)if(!(e.from!==ce(r[o].from)||e.to!==ce(r[o].to)||"promotion"in r[o]&&e.promotion!==r[o].promotion)){t=r[o];break}if(!t)return null;var i=se(t);return ne(t),i},undo:function(){var e=ae();return e?se(e):null},clear:function(){return i()},put:function(e,n){return W(e,n)},get:function(e){return o(e)},remove:function(e){return a=o(n=e),O[j[n]]=null,a&&a.type===p&&(I[a.color]=s),F(z()),a;var n,a},perft:function(e){return function e(n){for(var a=H({legal:!1}),t=0,r=C,o=0,c=a.length;o<c;o++)ne(a[o]),V(r)||(0<n-1?t+=e(n-1):t++),ae();return t}(e)},square_color:function(e){if(e in j){var n=j[e];return(re(n)+oe(n))%2==0?"light":"dark"}return null},history:function(e){for(var n=[],a=[],t=(void 0!==e&&"verbose"in e&&e.verbose);0<_.length;)n.push(ae());for(;0<n.length;){var r=n.pop();t?a.push(se(r)):a.push($(r)),ne(r)}return a}}};void 0!==a&&(a.Chess=t)},{}],2:[function(e,n,a){"use strict";var c=this&&this.__assign||Object.assign||function(e){for(var n,a=1,t=arguments.length;a<t;a++)for(var r in n=arguments[a])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e};Object.defineProperty(a,"__esModule",{value:!0});var v=e("./util");function t(e,n){var a=e(n);return n.dom.redraw(),a}function b(e,n){return{key:e,pos:v.key2pos(e),piece:n}}a.anim=function(e,n){return n.animation.enabled?function(e,n){var a=c({},n.pieces),t=e(n),r=function(e,n){var a,t,r,o,c={},i=[],s={},f=[],l=[],p={};for(r in e)p[r]=b(r,e[r]);for(var u=0,d=v.allKeys;u<d.length;u++){var m=d[u];a=n.pieces[m],t=p[m],a?t?v.samePiece(a,t.piece)||(f.push(t),l.push(b(m,a))):l.push(b(m,a)):t&&f.push(t)}return l.forEach(function(n){var a,e;a=n,e=f.filter(function(e){return v.samePiece(n.piece,e.piece)}),(t=e.sort(function(e,n){return v.distanceSq(a.pos,e.pos)-v.distanceSq(a.pos,n.pos)})[0])&&(o=[t.pos[0]-n.pos[0],t.pos[1]-n.pos[1]],c[n.key]=o.concat(o),i.push(t.key))}),f.forEach(function(e){v.containsX(i,e.key)||n.items&&n.items(e.pos,e.key)||(s[e.key]=e.piece)}),{anims:c,fadings:s}}(a,n);if(i(r.anims)&&i(r.fadings))n.dom.redraw();else{var o=n.animation.current&&n.animation.current.start;n.animation.current={start:f.now(),frequency:1/n.animation.duration,plan:r},o||function n(a,e){var t=a.animation.current;if(void 0!==t){var r,o=1-(e-t.start)*t.frequency;if(o<=0)a.animation.current=void 0,a.dom.redrawNow();else{var c=(r=o)<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1;for(var i in t.plan.anims){var s=t.plan.anims[i];s[2]=s[0]*c,s[3]=s[1]*c}a.dom.redrawNow(!0),v.raf(function(e){return void 0===e&&(e=f.now()),n(a,e)})}}else a.dom.destroyed||a.dom.redrawNow()}(n,f.now())}return t}(e,n):t(e,n)},a.render=t;var f=void 0!==window.performance?window.performance:Date;function i(e){for(var n in e)return!1;return!0}},{"./util":17}],3:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("./board"),o=e("./fen"),c=e("./config"),i=e("./anim"),s=e("./drag"),f=e("./explosion");a.start=function(t,e){function a(){r.toggleOrientation(t),e()}return{set:function(n){n.orientation&&n.orientation!==t.orientation&&a(),(n.fen?i.anim:i.render)(function(e){return c.configure(e,n)},t)},state:t,getFen:function(){return o.write(t.pieces)},toggleOrientation:a,setPieces:function(n){i.anim(function(e){return r.setPieces(e,n)},t)},selectSquare:function(n,a){n?i.anim(function(e){return r.selectSquare(e,n,a)},t):t.selected&&(r.unselect(t),t.dom.redraw())},move:function(n,a){i.anim(function(e){return r.baseMove(e,n,a)},t)},newPiece:function(n,a){i.anim(function(e){return r.baseNewPiece(e,n,a)},t)},playPremove:function(){if(t.premovable.current){if(i.anim(r.playPremove,t))return!0;t.dom.redraw()}return!1},playPredrop:function(e){if(t.predroppable.current){var n=r.playPredrop(t,e);return t.dom.redraw(),n}return!1},cancelPremove:function(){i.render(r.unsetPremove,t)},cancelPredrop:function(){i.render(r.unsetPredrop,t)},cancelMove:function(){i.render(function(e){r.cancelMove(e),s.cancel(e)},t)},stop:function(){i.render(function(e){r.stop(e),s.cancel(e)},t)},explode:function(e){f.default(t,e)},setAutoShapes:function(n){i.render(function(e){return e.drawable.autoShapes=n},t)},setShapes:function(n){i.render(function(e){return e.drawable.shapes=n},t)},getKeyAtDomPos:function(e){return r.getKeyAtDomPos(e,"white"===t.orientation,t.dom.bounds())},redrawAll:e,dragNewPiece:function(e,n,a){s.dragNewPiece(t,e,n,a)},destroy:function(){r.stop(t),t.dom.unbind&&t.dom.unbind(),t.dom.destroyed=!0}}}},{"./anim":2,"./board":4,"./config":6,"./drag":7,"./explosion":10,"./fen":11}],4:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var d=e("./util"),m=e("./premove");function b(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];e&&setTimeout(function(){return e.apply(void 0,n)},1)}function P(e){e.premovable.current&&(e.premovable.current=void 0,b(e.premovable.events.unset))}function g(e){var n=e.predroppable;n.current&&(n.current=void 0,b(n.events.unset))}function r(e,n,a){if(n===a||!e.pieces[n])return!1;var t=e.pieces[a]&&e.pieces[a].color!==e.pieces[n].color?e.pieces[a]:void 0;return a==e.selected&&R(e),b(e.events.move,n,a,t),function(e,n,a){if(!e.autoCastle)return!1;var t=e.pieces[n];if("king"!==t.role)return!1;var r=d.key2pos(n);if(5!==r[0])return!1;if(1!==r[1]&&8!==r[1])return!1;var o,c,i,s=d.key2pos(a);if(7===s[0]||8===s[0])o=d.pos2key([8,r[1]]),c=d.pos2key([6,r[1]]),i=d.pos2key([7,r[1]]);else{if(3!==s[0]&&1!==s[0])return!1;o=d.pos2key([1,r[1]]),c=d.pos2key([4,r[1]]),i=d.pos2key([3,r[1]])}var f=e.pieces[o];return"rook"===f.role&&(delete e.pieces[n],delete e.pieces[o],e.pieces[i]=t,e.pieces[c]=f,!0)}(e,n,a)||(e.pieces[a]=e.pieces[n],delete e.pieces[n]),e.lastMove=[n,a],e.check=void 0,b(e.events.change),t||!0}function h(e,n,a,t){if(e.pieces[a]){if(!t)return!1;delete e.pieces[a]}return b(e.events.dropNewPiece,n,a),e.pieces[a]=n,e.lastMove=[a],e.check=void 0,b(e.events.change),e.movable.dests=void 0,e.turnColor=d.opposite(e.turnColor),!0}function v(e,n,a){var t=r(e,n,a);return t&&(e.movable.dests=void 0,e.turnColor=d.opposite(e.turnColor),e.animation.current=void 0),t}function t(e,n,a){if(x(e,n,a)){var t=v(e,n,a);if(t){var r=e.hold.stop();R(e);var o={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:r};return!0!==t&&(o.captured=t),b(e.movable.events.after,n,a,o),!0}}else l=e,(p=n)!==(u=a)&&k(l,p)&&d.containsX(m.default(l.pieces,p,l.premovable.castle),u)?(i=n,s=a,f={ctrlKey:(c=e).stats.ctrlKey},g(c),c.premovable.current=[i,s],b(c.premovable.events.set,i,s,f),R(e)):B(e,a)||k(e,a)?(N(e,a),e.hold.start()):R(e);var c,i,s,f,l,p,u;return!1}function N(e,n){e.selected=n,k(e,n)?e.premovable.dests=m.default(e.pieces,n,e.premovable.castle):e.premovable.dests=void 0}function R(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function B(e,n){var a=e.pieces[n];return a&&("both"===e.movable.color||e.movable.color===a.color&&e.turnColor===a.color)}function x(e,n,a){return n!==a&&B(e,n)&&(e.movable.free||!!e.movable.dests&&d.containsX(e.movable.dests[n],a))}function k(e,n){var a=e.pieces[n];return a&&e.premovable.enabled&&e.movable.color===a.color&&e.turnColor!==a.color}function o(e){P(e),g(e),R(e)}a.callUserFunction=b,a.toggleOrientation=function(e){e.orientation=d.opposite(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0},a.reset=function(e){e.lastMove=void 0,R(e),P(e),g(e)},a.setPieces=function(e,n){for(var a in n){var t=n[a];t?e.pieces[a]=t:delete e.pieces[a]}},a.setCheck=function(e,n){if(!0===n&&(n=e.turnColor),n)for(var a in e.pieces)"king"===e.pieces[a].role&&e.pieces[a].color===n&&(e.check=a);else e.check=void 0},a.unsetPremove=P,a.unsetPredrop=g,a.baseMove=r,a.baseNewPiece=h,a.userMove=t,a.dropNewPiece=function(e,n,a,t){if(d=n,m=a,(v=(u=e).pieces[d])&&m&&(d===m||!u.pieces[m])&&("both"===u.movable.color||u.movable.color===v.color&&u.turnColor===v.color)||t){var r=e.pieces[n];delete e.pieces[n],h(e,r,a,t),b(e.movable.events.afterNewPiece,r.role,a,{predrop:!1})}else f=n,l=a,(p=(s=e).pieces[f])&&l&&(!s.pieces[l]||s.pieces[l].color!==s.movable.color)&&s.predroppable.enabled&&("pawn"!==p.role||"1"!==l[1]&&"8"!==l[1])&&s.movable.color===p.color&&s.turnColor!==p.color?(c=(o=e).pieces[n].role,i=a,P(o),o.predroppable.current={role:c,key:i},b(o.predroppable.events.set,c,i)):(P(e),g(e));var o,c,i,s,f,l,p,u,d,m,v;delete e.pieces[n],R(e)},a.selectSquare=function(e,n,a){e.selected?e.selected!==n||e.draggable.enabled?(e.selectable.enabled||a)&&e.selected!==n?t(e,e.selected,n)&&(e.stats.dragged=!1):e.hold.start():(R(e),e.hold.cancel()):(B(e,n)||k(e,n))&&(N(e,n),e.hold.start()),b(e.events.select,n)},a.setSelected=N,a.unselect=R,a.canMove=x,a.isDraggable=function(e,n){var a=e.pieces[n];return a&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===a.color&&(e.turnColor===a.color||e.premovable.enabled))},a.playPremove=function(e){var n=e.premovable.current;if(!n)return!1;var a=n[0],t=n[1],r=!1;if(x(e,a,t)){var o=v(e,a,t);if(o){var c={premove:!0};!0!==o&&(c.captured=o),b(e.movable.events.after,a,t,c),r=!0}}return P(e),r},a.playPredrop=function(e,n){var a=e.predroppable.current,t=!1;return!!a&&(n(a)&&h(e,{role:a.role,color:e.movable.color},a.key)&&(b(e.movable.events.afterNewPiece,a.role,a.key,{predrop:!0}),t=!0),g(e),t)},a.cancelMove=o,a.stop=function(e){e.movable.color=e.movable.dests=e.animation.current=void 0,o(e)},a.getKeyAtDomPos=function(e,n,a){var t=Math.ceil((e[0]-a.left)/a.width*8);n||(t=9-t);var r=Math.ceil(8-(e[1]-a.top)/a.height*8);return n||(r=9-r),0<t&&t<9&&0<r&&r<9?d.pos2key([t,r]):void 0}},{"./premove":12,"./util":17}],5:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=e("./api"),r=e("./config"),o=e("./state"),l=e("./wrap"),p=e("./events"),u=e("./render"),d=e("./svg"),m=e("./util");a.Chessground=function(i,e){var s=o.defaults();function f(){var e=s.dom&&s.dom.unbind;i.classList.add("cg-board-wrap");var n,a,t=m.memo(function(){return i.getBoundingClientRect()}),r=s.viewOnly&&!s.drawable.visible,o=l.default(i,s,r?void 0:t()),c=function(e){u.default(s),!e&&o.svg&&d.renderSvg(s,o.svg)};s.dom={elements:o,bounds:t,redraw:(n=c,a=!1,function(){a||(a=!0,m.raf(function(){n(),a=!1}))}),redrawNow:c,unbind:e,relative:r},s.drawable.prevSvgHash="",c(!1),p.bindBoard(s),e||(s.dom.unbind=p.bindDocument(s,f))}return r.configure(s,e||{}),f(),t.start(s,f)}},{"./api":3,"./config":6,"./events":9,"./render":13,"./state":14,"./svg":15,"./util":17,"./wrap":18}],6:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("./board"),c=e("./fen");function i(e){return"object"==typeof e}a.configure=function(e,n){if(n.movable&&n.movable.dests&&(e.movable.dests=void 0),function e(n,a){for(var t in a)i(n[t])&&i(a[t])?e(n[t],a[t]):n[t]=a[t]}(e,n),n.fen&&(e.pieces=c.read(n.fen),e.drawable.shapes=[]),n.hasOwnProperty("check")&&o.setCheck(e,n.check||!1),n.hasOwnProperty("lastMove")&&!n.lastMove?e.lastMove=void 0:n.lastMove&&(e.lastMove=n.lastMove),e.selected&&o.setSelected(e,e.selected),(!e.animation.duration||e.animation.duration<100)&&(e.animation.enabled=!1),!e.movable.rookCastle&&e.movable.dests){var a="white"===e.movable.color?1:8,t="e"+a,r=e.movable.dests[t];if(!r||"king"!==e.pieces[t].role)return;e.movable.dests[t]=r.filter(function(e){return!(e==="a"+a&&-1!==r.indexOf("c"+a)||e==="h"+a&&-1!==r.indexOf("g"+a))})}}},{"./board":4,"./fen":11}],7:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("./board"),v=e("./util"),b=e("./draw"),P=e("./anim");function g(c){v.raf(function(){var e=c.draggable.current;if(e){c.animation.current&&c.animation.current.plan.anims[e.orig]&&(c.animation.current=void 0);var n=c.pieces[e.orig];if(n&&v.samePiece(n,e.piece)){if(!e.started&&v.distanceSq(e.epos,e.rel)>=Math.pow(c.draggable.distance,2)&&(e.started=!0),e.started){if("function"==typeof e.element){var a=e.element();if(!a)return;e.element=a,e.element.cgDragging=!0,e.element.classList.add("dragging")}var t="white"===c.orientation,r=c.dom.bounds();e.pos=[e.epos[0]-e.rel[0],e.epos[1]-e.rel[1]];var o=v.posToTranslateAbs(r)(e.origPos,t);o[0]+=e.pos[0]+e.dec[0],o[1]+=e.pos[1]+e.dec[1],v.translateAbs(e.element,o)}}else i(c);g(c)}})}function i(e){var n=e.draggable.current;n&&(n.newPiece&&delete e.pieces[n.orig],e.draggable.current=void 0,m.unselect(e),o(e),e.dom.redraw())}function o(e){var n=e.dom.elements;n.ghost&&v.setVisible(n.ghost,!1)}function h(e,n,a){var t=v.key2pos(e);return n||(t[0]=9-t[0],t[1]=9-t[1]),{left:a.left+a.width*(t[0]-1)/8,top:a.top+a.height*(8-t[1])/8,width:a.width/8,height:a.height/8}}function N(e,n){for(var a=e.dom.elements.board.firstChild;a;){if(a.cgKey===n&&"PIECE"===a.tagName)return a;a=a.nextSibling}}a.start=function(e,n){if(!(void 0!==n.button&&0!==n.button||n.touches&&1<n.touches.length)){n.preventDefault();var a="white"===e.orientation,t=e.dom.bounds(),r=v.eventPosition(n),o=m.getKeyAtDomPos(r,a,t);if(o){var c=e.pieces[o],i=e.selected;i||!e.drawable.enabled||!e.drawable.eraseOnClick&&c&&c.color===e.turnColor||b.clear(e);var s=!!e.premovable.current,f=!!e.predroppable.current;e.stats.ctrlKey=n.ctrlKey,e.selected&&m.canMove(e,e.selected,o)?P.anim(function(e){return m.selectSquare(e,o)},e):m.selectSquare(e,o);var l=e.selected===o,p=N(e,o);if(c&&p&&l&&m.isDraggable(e,o)){var u=h(o,a,t);e.draggable.current={orig:o,origPos:v.key2pos(o),piece:c,rel:r,epos:r,pos:[0,0],dec:e.draggable.centerPiece?[r[0]-(u.left+u.width/2),r[1]-(u.top+u.height/2)]:[0,0],started:e.draggable.autoDistance&&e.stats.dragged,element:p,previouslySelected:i,originTarget:n.target},p.cgDragging=!0,p.classList.add("dragging");var d=e.dom.elements.ghost;d&&(d.className="ghost "+c.color+" "+c.role,v.translateAbs(d,v.posToTranslateAbs(t)(v.key2pos(o),a)),v.setVisible(d,!0)),g(e)}else s&&m.unsetPremove(e),f&&m.unsetPredrop(e);e.dom.redraw()}}},a.dragNewPiece=function(e,n,a,t){var r="a0";e.pieces.a0=n,e.dom.redraw();var o=v.eventPosition(a),c="white"===e.orientation,i=e.dom.bounds(),s=h(r,c,i),f=[(c?0:7)*s.width+i.left,(c?8:-1)*s.height+i.top];e.draggable.current={orig:r,origPos:v.key2pos(r),piece:n,rel:f,epos:o,pos:[o[0]-f[0],o[1]-f[1]],dec:[-s.width/2,-s.height/2],started:!0,element:function(){return N(e,r)},originTarget:a.target,newPiece:!0,force:t||!1},g(e)},a.move=function(e,n){e.draggable.current&&(!n.touches||n.touches.length<2)&&(e.draggable.current.epos=v.eventPosition(n))},a.end=function(e,n){var a=e.draggable.current;if(a)if("touchend"!==n.type||!a||a.originTarget===n.target||a.newPiece){m.unsetPremove(e),m.unsetPredrop(e);var t=v.eventPosition(n)||a.epos,r=m.getKeyAtDomPos(t,"white"===e.orientation,e.dom.bounds());r&&a.started?a.newPiece?m.dropNewPiece(e,a.orig,r,a.force):(e.stats.ctrlKey=n.ctrlKey,m.userMove(e,a.orig,r)&&(e.stats.dragged=!0)):a.newPiece?delete e.pieces[a.orig]:e.draggable.deleteOnDropOff&&(delete e.pieces[a.orig],m.callUserFunction(e.events.change)),(!a||a.orig!==a.previouslySelected||a.orig!==r&&r)&&e.selectable.enabled||m.unselect(e),o(e),e.draggable.current=void 0,e.dom.redraw()}else e.draggable.current=void 0},a.cancel=i},{"./anim":2,"./board":4,"./draw":8,"./util":17}],8:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("./board"),s=e("./util"),f=["green","red","blue","yellow"];function l(a){s.raf(function(){var e=a.drawable.current;if(e){var n=i.getKeyAtDomPos(e.pos,"white"===a.orientation,a.dom.bounds());n!==e.mouseSq&&(e.mouseSq=n,e.dest=n!==e.orig?n:void 0,a.dom.redrawNow()),l(a)}})}function p(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function u(e){e.onChange&&e.onChange(e.shapes)}a.start=function(e,n){if(!(n.touches&&1<n.touches.length)){n.stopPropagation(),n.preventDefault(),n.ctrlKey?i.unselect(e):i.cancelMove(e);var a,t,r,o=s.eventPosition(n),c=i.getKeyAtDomPos(o,"white"===e.orientation,e.dom.bounds());c&&(e.drawable.current={orig:c,pos:o,brush:(a=n,t=a.shiftKey&&s.isRightButton(a)?1:0,r=a.altKey?2:0,f[t+r])},l(e))}},a.processDraw=l,a.move=function(e,n){e.drawable.current&&(e.drawable.current.pos=s.eventPosition(n))},a.end=function(e){var n=e.drawable.current;n&&(n.mouseSq&&(a=e.drawable,t=n,o=function(e){return e.orig===t.orig&&e.dest===t.dest},c=a.shapes.filter(o)[0],c&&(a.shapes=a.shapes.filter((r=o,function(e){return!r(e)}))),c&&c.brush===t.brush||a.shapes.push(t),u(a)),p(e));var a,t,r,o,c},a.cancel=p,a.clear=function(e){e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),u(e.drawable))}},{"./board":4,"./util":17}],9:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var c=e("./drag"),i=e("./draw"),s=e("./util");function f(e,n,a,t){return e.addEventListener(n,a,t),function(){return e.removeEventListener(n,a)}}function l(n,a,t){return function(e){e.shiftKey||s.isRightButton(e)?n.drawable.enabled&&t(n,e):n.viewOnly||a(n,e)}}a.bindBoard=function(e){if(!e.viewOnly){var n,a=e.dom.elements.board,t=(n=e,function(e){n.draggable.current?c.cancel(n):n.drawable.current?i.cancel(n):e.shiftKey||s.isRightButton(e)?n.drawable.enabled&&i.start(n,e):n.viewOnly||c.start(n,e)});a.addEventListener("touchstart",t),a.addEventListener("mousedown",t),(e.disableContextMenu||e.drawable.enabled)&&a.addEventListener("contextmenu",function(e){return e.preventDefault()})}},a.bindDocument=function(e,n){var a=[];!e.dom.relative&&e.resizable&&a.push(f(document.body,"chessground.resize",function(){e.dom.bounds.clear(),s.raf(n)}));if(!e.viewOnly){var t=l(e,c.move,i.move),r=l(e,c.end,i.end);["touchmove","mousemove"].forEach(function(e){return a.push(f(document,e,t))}),["touchend","mouseup"].forEach(function(e){return a.push(f(document,e,r))});var o=function(){return e.dom.bounds.clear()};a.push(f(window,"scroll",o,{passive:!0})),a.push(f(window,"resize",o,{passive:!0}))}return function(){return a.forEach(function(e){return e()})}}},{"./drag":7,"./draw":8,"./util":17}],10:[function(e,n,a){"use strict";function t(e,n){e.exploding&&(n?e.exploding.stage=n:e.exploding=void 0,e.dom.redraw())}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,n){e.exploding={stage:1,keys:n},e.dom.redraw(),setTimeout(function(){t(e,2),setTimeout(function(){return t(e,void 0)},120)},120)}},{}],11:[function(e,n,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var l=e("./util"),o=e("./types");f.initial="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR";var p={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},c={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};f.read=function(e){"start"===e&&(e=f.initial);for(var n={},a=8,t=0,r=0,o=e;r<o.length;r++){var c=o[r];switch(c){case" ":return n;case"/":if(0==--a)return n;t=0;break;case"~":n[l.pos2key([t,a])].promoted=!0;break;default:var i=c.charCodeAt(0);if(i<57)t+=i-48;else{++t;var s=c.toLowerCase();n[l.pos2key([t,a])]={role:p[s],color:c===s?"black":"white"}}}}return n},f.write=function(a){var t,r;return l.invRanks.map(function(n){return o.ranks.map(function(e){return(t=a[l.pos2key([e,n])])?(r=c[t.role],"white"===t.color?r.toUpperCase():r):"1"}).join("")}).join("/").replace(/1{2,}/g,function(e){return e.length.toString()})}},{"./types":16,"./util":17}],12:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var d=e("./util");function m(e,n){return Math.abs(e-n)}var v=function(e,n,a,t){var r=m(e,a),o=m(n,t);return 1===r&&2===o||2===r&&1===o},b=function(e,n,a,t){return m(e,a)===m(n,t)},P=function(e,n,a,t){return e===a||n===t},g=function(e,n,a,t){return b(e,n,a,t)||P(e,n,a,t)};a.default=function(e,n,a){var t,r,o,c,i,s,f,l,p=e[n],u=d.key2pos(n);switch(p.role){case"pawn":l=p.color,t=function(e,n,a,t){return m(e,a)<2&&("white"===l?t===n+1||n<=2&&t===n+2&&e===a:t===n-1||7<=n&&t===n-2&&e===a)};break;case"knight":t=v;break;case"bishop":t=b;break;case"rook":t=P;break;case"queen":t=g;break;case"king":r=p.color,i=e,s=p.color,o=Object.keys(i).filter(function(e){return(f=i[e])&&f.color===s&&"rook"===f.role}).map(function(e){return d.key2pos(e)[0]}),c=a,t=function(e,n,a,t){return m(e,a)<2&&m(n,t)<2||c&&n===t&&n===("white"===r?1:8)&&(5===e&&(3===a||7===a)||d.containsX(o,a))}}return d.allKeys.map(d.key2pos).filter(function(e){return(u[0]!==e[0]||u[1]!==e[1])&&t(u[0],u[1],e[0],e[1])}).map(d.pos2key)}},{"./util":17}],13:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var E=e("./util"),_=e("./util");function S(e,n){for(var a in n)e.dom.elements.board.removeChild(n[a])}function T(e,n){var a=2+8*(e[1]-1)+(8-e[0]);return n&&(a=67-a),a+""}function L(e){return e.color+" "+e.role}function D(e,n,a){e[n]?e[n]+=" "+a:e[n]=a}a.default=function(e){var n,a,t,r,o,c,i,s,f,l,p,u="white"===e.orientation,d=e.dom.relative?_.posToTranslateRel:_.posToTranslateAbs(e.dom.bounds()),m=e.dom.relative?_.translateRel:_.translateAbs,v=e.dom.elements.board,b=e.pieces,P=e.animation.current,g=P?P.plan.anims:{},h=P?P.plan.fadings:{},N=e.draggable.current,R=function(e){var n,a,t={};if(e.lastMove&&e.highlight.lastMove)for(n in e.lastMove)D(t,e.lastMove[n],"last-move");if(e.check&&e.highlight.check&&D(t,e.check,"check"),e.selected&&(D(t,e.selected,"selected"),e.movable.showDests)){var r=e.movable.dests&&e.movable.dests[e.selected];if(r)for(n in r)a=r[n],D(t,a,"move-dest"+(e.pieces[a]?" oc":""));var o=e.premovable.dests;if(o)for(n in o)a=o[n],D(t,a,"premove-dest"+(e.pieces[a]?" oc":""))}var c=e.premovable.current;if(c)for(n in c)D(t,c[n],"current-premove");else e.predroppable.current&&D(t,e.predroppable.current.key,"current-premove");var i=e.exploding;if(i)for(n in i.keys)D(t,i.keys[n],"exploding"+i.stage);return t}(e),B={},x={},k={},w={},y=Object.keys(b);for(t=v.firstChild;t;){if(n=t.cgKey,"PIECE"===t.tagName)r=b[n],c=g[n],i=h[n],o=t.cgPiece,!t.cgDragging||N&&N.orig===n||(t.classList.remove("dragging"),m(t,d(E.key2pos(n),u)),t.cgDragging=!1),!i&&t.cgFading&&(t.cgFading=!1,t.classList.remove("fading")),r?(c&&t.cgAnimating&&o===L(r)?((O=E.key2pos(n))[0]+=c[2],O[1]+=c[3],t.classList.add("anim"),m(t,d(O,u))):t.cgAnimating&&(t.cgAnimating=!1,t.classList.remove("anim"),m(t,d(E.key2pos(n),u)),e.addPieceZIndex&&(t.style.zIndex=T(E.key2pos(n),u))),o!==L(r)||i&&t.cgFading?i&&o===L(i)?(t.classList.add("fading"),t.cgFading=!0):k[o]?k[o].push(t):k[o]=[t]:B[n]=!0):k[o]?k[o].push(t):k[o]=[t];else if("SQUARE"===t.tagName){var K=t.className;R[n]===K?x[n]=!0:w[K]?w[K].push(t):w[K]=[t]}t=t.nextSibling}for(var Q in R)if(!x[Q]){p=(l=w[R[Q]])&&l.pop();var M=d(E.key2pos(Q),u);if(p)p.cgKey=Q,m(p,M);else{var q=E.createEl("square",R[Q]);q.cgKey=Q,m(q,M),v.insertBefore(q,v.firstChild)}}for(var j in y)if(a=b[n=y[j]],c=g[n],!B[n])if(f=(s=k[L(a)])&&s.pop()){f.cgKey=n,f.cgFading&&(f.classList.remove("fading"),f.cgFading=!1);var O=E.key2pos(n);e.addPieceZIndex&&(f.style.zIndex=T(O,u)),c&&(f.cgAnimating=!0,f.classList.add("anim"),O[0]+=c[2],O[1]+=c[3]),m(f,d(O,u))}else{var I=L(a),C=E.createEl("piece",I);O=E.key2pos(n),C.cgPiece=I,C.cgKey=n,c&&(C.cgAnimating=!0,O[0]+=c[2],O[1]+=c[3]),m(C,d(O,u)),e.addPieceZIndex&&(C.style.zIndex=T(O,u)),v.appendChild(C)}for(var A in k)S(e,k[A]);for(var A in w)S(e,w[A])}},{"./util":17}],14:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=e("./fen"),r=e("./util");a.defaults=function(){return{pieces:t.read(t.initial),orientation:"white",turnColor:"white",coordinates:!0,autoCastle:!0,viewOnly:!1,disableContextMenu:!1,resizable:!0,addPieceZIndex:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,centerPiece:!0,showGhost:!0,deleteOnDropOff:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},pieces:{baseUrl:"https://lichess1.org/assets/piece/cburnett/"},prevSvgHash:""},hold:r.timer()}}},{"./fen":11,"./util":17}],15:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var F,W=e("./util");function G(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e,n,a){var t,r,o=e.orig,c=e.dest,i=e.brush,s=e.piece,f=e.modifiers;return[a,o,c,i,c&&1<n[c],s&&(r=s,[r.color,r.role,r.scale].filter(function(e){return e}).join("")),f&&(t=f,""+(t.lineWidth||""))].filter(function(e){return e}).join("")}function l(e){var n=H(G("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return n.appendChild(H(G("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),n.setAttribute("cgKey",e.key),n}function H(e,n){for(var a in n)e.setAttribute(a,n[a]);return e}function $(e,n){return"white"===n?e:[9-e[0],9-e[1]]}function X(e,n){var a={color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(n.lineWidth||e.lineWidth)};return a.key=[e.key,n.lineWidth].filter(function(e){return e}).join(""),a}function Z(e,n){return(e.opacity||1)*(n?.9:1)}function V(e,n){return[(e[0]-.5)*n.width/8,(8.5-e[1])*n.height/8]}a.createElement=G,a.renderSvg=function(e,n){var a=e.drawable,t=a.current,r=t&&t.mouseSq?t:void 0,o={};a.shapes.concat(a.autoShapes).concat(r?[r]:[]).forEach(function(e){e.dest&&(o[e.dest]=(o[e.dest]||0)+1)});var c=a.shapes.concat(a.autoShapes).map(function(e){return{shape:e,current:!1,hash:f(e,o,!1)}});r&&c.push({shape:r,current:!0,hash:f(r,o,!0)});var i=c.map(function(e){return e.hash}).join("");if(i!==e.drawable.prevSvgHash){e.drawable.prevSvgHash=i;var s=n.firstChild;!function(n,e,a){var t,r={};e.forEach(function(e){e.shape.dest&&(t=n.brushes[e.shape.brush],e.shape.modifiers&&(t=X(t,e.shape.modifiers)),r[t.key]=t)});for(var o={},c=a.firstChild;c;)o[c.getAttribute("cgKey")]=!0,c=c.nextSibling;for(var i in r)o[i]||a.appendChild(l(r[i]))}(a,c,s),function(n,e,a,t,r,o){void 0===F&&(F=W.computeIsTrident());var c=n.dom.bounds(),i={},s=[];e.forEach(function(e){i[e.hash]=!1});for(var f,l=o.nextSibling;l;)f=l.getAttribute("cgHash"),i.hasOwnProperty(f)?i[f]=!0:s.push(l),l=l.nextSibling;s.forEach(function(e){return r.removeChild(e)}),e.forEach(function(e){i[e.hash]||r.appendChild(function(e,n,a,t,r){var o,c,i,s,f,l,p,u,d,m,v,b,P,g,h,N,R,B,x,k,w,y,K,Q,M,q,j,O,I,C,A,E,_,S,T=n.shape,L=n.current,D=n.hash;if(T.piece)O=e.drawable.pieces.baseUrl,I=$(W.key2pos(T.orig),e.orientation),C=T.piece,E=V(I,A=r),_=A.width/8*(C.scale||1),S=C.color[0]+("knight"===C.role?"n":C.role[0]).toUpperCase(),o=H(G("image"),{className:C.role+" "+C.color,x:E[0]-_/2,y:E[1]-_/2,width:_,height:_,href:O+S+".svg"});else{var z=$(W.key2pos(T.orig),e.orientation);if(T.orig&&T.dest){var U=a[T.brush];T.modifiers&&(U=X(U,T.modifiers)),d=U,m=z,v=$(W.key2pos(T.dest),e.orientation),b=L,P=1<t[T.dest],K=g=r,Q=P&&!b,h=F?0:(Q?20:10)/512*K.width,N=V(m,g),R=V(v,g),B=R[0]-N[0],x=R[1]-N[1],k=Math.atan2(x,B),w=Math.cos(k)*h,y=Math.sin(k)*h,o=H(G("line"),{stroke:d.color,"stroke-width":(M=d,q=b,j=g,(M.lineWidth||10)*(q?.85:1)/512*j.width),"stroke-linecap":"round","marker-end":F?void 0:"url(#arrowhead-"+d.key+")",opacity:Z(d,b),x1:N[0],y1:N[1],x2:R[0]-w,y2:R[1]-y})}else c=a[T.brush],i=L,f=V(z,s=r),u=s.width/512,l=[3*u,4*u],p=(s.width+s.height)/32,o=H(G("circle"),{stroke:c.color,"stroke-width":l[i?0:1],fill:"none",opacity:Z(c,i),cx:f[0],cy:f[1],r:p-l[1]/2})}return o.setAttribute("cgHash",D),o}(n,e,a,t,c))})}(e,c,a.brushes,o,n,s)}}},{"./util":17}],16:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.files=["a","b","c","d","e","f","g","h"],a.ranks=[1,2,3,4,5,6,7,8]},{}],17:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=e("./types");a.colors=["white","black"],a.invRanks=[8,7,6,5,4,3,2,1],a.allKeys=(r=Array.prototype).concat.apply(r,t.files.map(function(n){return t.ranks.map(function(e){return n+e})})),a.pos2key=function(e){return a.allKeys[8*e[0]+e[1]-9]},a.key2pos=function(e){return[e.charCodeAt(0)-96,e.charCodeAt(1)-48]},a.memo=function(e){var n,a=function(){return void 0===n&&(n=e()),n};return a.clear=function(){n=void 0},a},a.timer=function(){var n;return{start:function(){n=Date.now()},cancel:function(){n=void 0},stop:function(){if(!n)return 0;var e=Date.now()-n;return n=void 0,e}}},a.opposite=function(e){return"white"===e?"black":"white"},a.containsX=function(e,n){return void 0!==e&&-1!==e.indexOf(n)},a.distanceSq=function(e,n){return Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)},a.samePiece=function(e,n){return e.role===n.role&&e.color===n.color},a.computeIsTrident=function(){return-1<window.navigator.userAgent.indexOf("Trident/")};var r,o=function(e,n,a,t){return[(n?e[0]-1:8-e[0])*a,(n?8-e[1]:e[1]-1)*t]};a.posToTranslateAbs=function(e){var a=e.width/8,t=e.height/8;return function(e,n){return o(e,n,a,t)}},a.posToTranslateRel=function(e,n){return o(e,n,12.5,12.5)},a.translateAbs=function(e,n){e.style.transform="translate("+n[0]+"px,"+n[1]+"px)"},a.translateRel=function(e,n){e.style.left=n[0]+"%",e.style.top=n[1]+"%"},a.setVisible=function(e,n){e.style.visibility=n?"visible":"hidden"},a.eventPosition=function(e){return e.clientX||0===e.clientX?[e.clientX,e.clientY]:e.touches&&e.targetTouches[0]?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},a.isRightButton=function(e){return 2===e.buttons||2===e.button},a.createEl=function(e,n){var a=document.createElement(e);return n&&(a.className=n),a},a.raf=(window.requestAnimationFrame||window.setTimeout).bind(window)},{"./types":16}],18:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("./util"),s=e("./types"),f=e("./svg");function l(e,n){var a,t=i.createEl("coords",n);for(var r in e)(a=i.createEl("coord")).textContent=e[r],t.appendChild(a);return t}a.default=function(n,a,e){n.innerHTML="",n.classList.add("cg-board-wrap"),i.colors.forEach(function(e){n.classList.toggle("orientation-"+e,a.orientation===e)}),n.classList.toggle("manipulable",!a.viewOnly);var t,r,o=i.createEl("div","cg-board");if(n.appendChild(o),a.drawable.visible&&e&&((t=f.createElement("svg")).appendChild(f.createElement("defs")),n.appendChild(t)),a.coordinates){var c="black"===a.orientation?" black":"";n.appendChild(l(s.ranks,"ranks"+c)),n.appendChild(l(s.files,"files"+c))}return e&&a.draggable.showGhost&&(r=i.createEl("piece","ghost"),i.setVisible(r,!1),n.appendChild(r)),{board:o,ghost:r,svg:t}}},{"./svg":15,"./types":16,"./util":17}],19:[function(e,ge,he){!function(m,a,p,$,s,X){var v=d(function(a,t){var r=t.length;return d(function(e){for(var n=0;n<e.length;n++)t[r+n]=e[n];return t.length=r+e.length,a.apply(this,t)})});d(function(e){var n=M(e);function a(e,n){return[u(e,n)]}return d(function(e){return j(a,e,n)[0]})});function b(e,n){return function(){return e.call(this,n.apply(this,arguments))}}function t(n){return function(e){return e[n]}}var P=d(function(t){return d(function(e){for(var n,a=0;a<B(t);a++)if(n=u(e,t[a]))return n})});function u(e,n){return n.apply(X,e)}function d(n){var a=n.length-1,t=p.prototype.slice;if(0==a)return function(){return n.call(this,t.call(arguments))};if(1==a)return function(){return n.call(this,arguments[0],t.call(arguments,1))};var r=p(n.length);return function(){for(var e=0;e<a;e++)r[e]=arguments[e];return r[a]=t.call(arguments,a),n.apply(this,r)}}function g(n,a){return function(e){return n(e)&&a(e)}}function h(){}function N(){return!0}function R(e,n){return n&&n.constructor===e}var B=t("length"),x=v(R,String);function k(e){return e!==X}function w(e,n){return n instanceof a&&function e(n,a){return!a||n(K(a))&&e(n,Q(a))}(function(e){return e in n},e)}function y(e,n){return[e,n]}var r=null,K=t(0),Q=t(1);function M(e){return O(e.reduce((a=y,function(e,n){return a(n,e)}),r));var a}var q=d(M);function i(e){return j(function(e,n){return e.unshift(n),e},[],e)}function f(e,n){return n?y(e(K(n)),f(e,Q(n))):r}function j(e,n,a){return a?e(j(e,n,Q(a)),K(a)):n}function l(e,t,n){return function e(n,a){return n?t(K(n))?(a(K(n)),Q(n)):y(K(n),e(Q(n),a)):r}(e,n||h)}function O(e){return function e(n,a){return n?e(Q(n),y(K(n),a)):a}(e,r)}function c(e){"use strict";var o,c,i,s=e(fe).emit,f=e(le).emit,l=e(pe).emit,n=e(ae).emit,p=65536,u=/[\\"\n]/g,a=0,d=a++,m=a++,v=a++,b=a++,P=a++,g=a++,h=a++,N=a++,R=a++,B=a++,x=a++,k=a++,w=a++,y=a++,K=a++,Q=a++,M=a++,q=a++,j=a++,O=a++,I=p,C=X,A="",E=!1,_=!1,S=d,T=[],L=null,D=0,z=0,U=0,F=0,W=1;function G(e){C!==X&&(f(C),l(),C=X),o=$(e+"\nLn: "+W+"\nCol: "+F+"\nChr: "+c),n(ue(X,X,o))}function H(e){return"\r"==e||"\n"==e||" "==e||"\t"==e}e(ce).on(function(e){if(o)return;if(_)return G("Cannot write after close");var n=0;c=e[0];for(;c&&(0<n&&(i=c),c=e[n++]);)switch(U++,"\n"==c?(W++,F=0):F++,S){case d:if("{"===c)S=v;else if("["===c)S=P;else if(!H(c))return G("Non-whitespace before {[.");continue;case N:case v:if(H(c))continue;if(S===N)T.push(R);else{if("}"===c){f({}),l(),S=T.pop()||m;continue}T.push(b)}if('"'!==c)return G('Malformed object key should start with " ');S=h;continue;case R:case b:if(H(c))continue;if(":"===c)S===b?(T.push(b),C!==X&&(f({}),s(C),C=X),z++):C!==X&&(s(C),C=X),S=m;else if("}"===c)C!==X&&(f(C),l(),C=X),l(),z--,S=T.pop()||m;else{if(","!==c)return G("Bad object");S===b&&T.push(b),C!==X&&(f(C),l(),C=X),S=N}continue;case P:case m:if(H(c))continue;if(S===P){if(f([]),z++,S=m,"]"===c){l(),z--,S=T.pop()||m;continue}T.push(g)}if('"'===c)S=h;else if("{"===c)S=v;else if("["===c)S=P;else if("t"===c)S=B;else if("f"===c)S=w;else if("n"===c)S=M;else if("-"===c)A+=c;else if("0"===c)A+=c,S=20;else{if(-1==="123456789".indexOf(c))return G("Bad value");A+=c,S=20}continue;case g:if(","===c)T.push(g),C!==X&&(f(C),l(),C=X),S=m;else{if("]"!==c){if(H(c))continue;return G("Bad array")}C!==X&&(f(C),l(),C=X),l(),z--,S=T.pop()||m}continue;case h:C===X&&(C="");var a=n-1;e:for(;;){for(;0<D;)if(L+=c,c=e.charAt(n++),4===D?(C+=String.fromCharCode(parseInt(L,16)),D=0,a=n-1):D++,!c)break e;if('"'===c&&!E){S=T.pop()||m,C+=e.substring(a,n-1);break}if(!("\\"!==c||E||(E=!0,C+=e.substring(a,n-1),c=e.charAt(n++))))break;if(E){if(E=!1,"n"===c?C+="\n":"r"===c?C+="\r":"t"===c?C+="\t":"f"===c?C+="\f":"b"===c?C+="\b":"u"===c?(D=1,L=""):C+=c,c=e.charAt(n++),a=n-1,c)continue;break}u.lastIndex=n;var t=u.exec(e);if(!t){n=e.length+1,C+=e.substring(a,n-1);break}if(n=t.index+1,!(c=e.charAt(t.index))){C+=e.substring(a,n-1);break}}continue;case B:if(!c)continue;if("r"!==c)return G("Invalid true started with t"+c);S=x;continue;case x:if(!c)continue;if("u"!==c)return G("Invalid true started with tr"+c);S=k;continue;case k:if(!c)continue;if("e"!==c)return G("Invalid true started with tru"+c);f(!0),l(),S=T.pop()||m;continue;case w:if(!c)continue;if("a"!==c)return G("Invalid false started with f"+c);S=y;continue;case y:if(!c)continue;if("l"!==c)return G("Invalid false started with fa"+c);S=K;continue;case K:if(!c)continue;if("s"!==c)return G("Invalid false started with fal"+c);S=Q;continue;case Q:if(!c)continue;if("e"!==c)return G("Invalid false started with fals"+c);f(!1),l(),S=T.pop()||m;continue;case M:if(!c)continue;if("u"!==c)return G("Invalid null started with n"+c);S=q;continue;case q:if(!c)continue;if("l"!==c)return G("Invalid null started with nu"+c);S=j;continue;case j:if(!c)continue;if("l"!==c)return G("Invalid null started with nul"+c);f(null),l(),S=T.pop()||m;continue;case O:if("."!==c)return G("Leading zero not followed by .");A+=c,S=20;continue;case 20:if(-1!=="0123456789".indexOf(c))A+=c;else if("."===c){if(-1!==A.indexOf("."))return G("Invalid number has two dots");A+=c}else if("e"===c||"E"===c){if(-1!==A.indexOf("e")||-1!==A.indexOf("E"))return G("Invalid number has two exponential");A+=c}else if("+"===c||"-"===c){if("e"!==i&&"E"!==i)return G("Invalid symbol in number");A+=c}else A&&(f(parseFloat(A)),l(),A=""),n--,S=T.pop()||m;continue;default:return G("Unknown state: "+S)}I<=U&&(r=0,C!==X&&C.length>p&&(G("Max buffer length exceeded: textNode"),r=Math.max(r,C.length)),A.length>p&&(G("Max buffer length exceeded: numberNode"),r=Math.max(r,A.length)),I=p-r+U);var r}),e(ie).on(function(){if(S==d)return f({}),l(),void(_=!0);S===m&&0===z||G("Unexpected end");C!==X&&(f(C),l(),C=X);_=!0})}var e,n,o,I,C,A,E,_,S,T,L,D=(e=d(function(e){return e.unshift(/^/),(n=RegExp(e.map(t("source")).join(""))).exec.bind(n);var n}),I=e(n=/(\$?)/,/([\w-_]+|\*)/,o=/(?:{([\w ]*?)})?/),C=e(n,/\["([^"]+)"\]/,o),A=e(n,/\[(\d+|\*)\]/,o),E=e(n,/()/,/{([\w ]*?)}/),_=e(/\.\./),S=e(/\./),T=e(n,/!/),L=e(/$/),function(e){return e(P(I,C,A,E),_,S,T,L)});function z(e,n){return{key:e,node:n}}var U=t("key"),F=t("node"),W={};function G(e){var r=e(J).emit,n=e(Y).emit,s=e(re).emit,a=e(te).emit;function f(e,n,a){F(K(e))[n]=a}function l(e,n,a){e&&f(e,n,a);var t=y(z(n,a),e);return r(t),t}var t={};return t[le]=function(e,n){if(!e)return s(n),l(e,W,n);var a,t,r,o=(t=n,r=F(K(a=e)),R(p,r)?l(a,B(r),t):a),c=Q(o),i=U(K(o));return f(c,i,n),y(z(i,n),c)},t[pe]=function(e){return n(e),Q(e)||a(F(K(e)))},t[fe]=l,t}var H=D(function(e,n,a,t,r){var o=b(U,K),c=b(F,K);function i(e,n){return!!n[1]?g(e,K):e}function s(e){if(e==N)return N;return g(function(e){return o(e)!=W},b(e,Q))}function f(){return function(e){return o(e)==W}}function l(e,n,a,t,r){var o,c=e(a);if(c){var i=(o=c,j(function(e,n){return n(e,o)},t,n));return r(a.substr(B(c[0])),i)}}function p(e,n){return v(l,e,n)}var u=P(p(e,q(i,function(e,n){var a=n[3];return a?g(b(v(w,M(a.split(/\W+/))),c),e):e},function(e,n){var a=n[2];return g(a&&"*"!=a?function(e){return o(e)==a}:N,e)},s)),p(n,q(function(e){if(e==N)return N;var n=f(),a=e,t=s(function(e){return r(e)}),r=P(n,a,t);return r})),p(a,q()),p(t,q(i,f)),p(r,q(function(a){return function(e){var n=a(e);return!0===n?K(e):n}})),function(e){throw $('"'+e+'" could not be tokenised')});function d(e,n){return n}function m(e,n){return u(e,n,e?m:d)}return function(n){try{return m(n,N)}catch(e){throw $('Could not compile "'+n+'" because '+e.message)}}});function Z(t,r,a){var o,c;function i(n){return function(e){return e.id==n}}return{on:function(e,n){var a={listener:e,id:n||e};return r&&r.emit(t,e,a.id),o=y(a,o),c=y(e,c),this},emit:function(){!function e(n,a){n&&(K(n).apply(null,a),e(Q(n),a))}(c,arguments)},un:function(e){var n;o=l(o,i(e),function(e){n=e}),n&&(c=l(c,function(e){return e==n.listener}),a&&a.emit(t,n.listener,n.id))},listeners:function(){return c},hasListener:function(e){return k(function e(n,a){return a&&(n(K(a))?K(a):e(n,Q(a)))}(e?i(e):N,o))}}}var V=1,J=V++,Y=V++,ee=V++,ne=V++,ae="fail",te=V++,re=V++,oe="start",ce="data",ie="end",se=V++,fe=V++,le=V++,pe=V++;function ue(e,n,a){try{var t=s.parse(n)}catch(e){}return{statusCode:e,body:n,jsonBody:t,thrown:a}}function de(t,r){var o={node:t(Y),path:t(J)};function c(n,a,o){var c=t(n).emit;a.on(function(e){var n,a,t,r=o(e);!1!==r&&(n=c,a=F(r),t=O(e),n(a,i(Q(f(U,t))),i(f(F,t))))},n),t("removeListener").on(function(e){e==n&&(t(e).listeners()||a.un(n))})}t("newListener").on(function(e){var n=/(node|path):(.*)/.exec(e);if(n){var a=o[n[1]];a.hasListener(e)||c(e,a,r(n[2]))}})}function me(o,e){var r,c=/^(node|path):./,i=o(te),s=o(ne).emit,f=o(ee).emit,n=d(function(e,n){if(r[e])u(n,r[e]);else{var a=o(e),t=n[0];c.test(e)?l(a,t):a.on(t)}return r});function l(n,e,a){a=a||e;var t=p(e);return n.on(function(){var e=!1;r.forget=function(){e=!0},u(arguments,t),delete r.forget,e&&n.un(a)},a),r}function p(e){return function(){try{return e.apply(r,arguments)}catch(e){setTimeout(function(){throw new $(e.message)})}}}function t(e,n,a){var t,r;"node"==e?(r=a,t=function(){var e=r.apply(this,arguments);k(e)&&(e==Pe.drop?s():f(e))}):t=a,l(o(e+":"+n),t,a)}function a(e,n,a){return x(n)?t(e,n,a):function(e,n){for(var a in n)t(e,a,n[a])}(e,n),r}return o(re).on(function(e){var n;r.root=(n=e,function(){return n})}),o(oe).on(function(e,n){r.header=function(e){return e?n[e]:n}}),r={on:n,addListener:n,removeListener:function(e,n,a){if("done"==e)i.un(n);else if("node"==e||"path"==e)o.un(e+":"+n,a);else{var t=n;o(e).un(t)}return r},emit:o.emit,node:v(a,"node"),path:v(a,"path"),done:v(l,i),start:v(function(e,n){return o(e).on(p(n),n),r},oe),fail:o(ae).on,abort:o(se).emit,header:h,root:h,source:e}}function ve(e,n,a,t,r){var o=function(){var n={},a=r("newListener"),t=r("removeListener");function r(e){return n[e]=Z(e,a,t)}function o(e){return n[e]||r(e)}return["emit","on","un"].forEach(function(a){o[a]=d(function(e,n){u(n,o(e)[a])})}),o}();return n&&function(n,t,e,a,r,o,c){"use strict";var i,s=n(ce).emit,f=n(ae).emit,l=0,p=!0;function u(){var e=t.responseText,n=e.substr(l);n&&s(n),l=B(e)}n(se).on(function(){t.onreadystatechange=null,t.abort()}),"onprogress"in t&&(t.onprogress=u),t.onreadystatechange=function(){function e(){try{p&&n(oe).emit(t.status,(e=t.getAllResponseHeaders(),a={},e&&e.split("\r\n").forEach(function(e){var n=e.indexOf(": ");a[e.substring(0,n)]=e.substring(n+2)}),a)),p=!1}catch(e){}var e,a}switch(t.readyState){case 2:case 3:return e();case 4:e(),2==String(t.status)[0]?(u(),n(ie).emit()):f(ue(t.status,t.responseText))}};try{for(var d in t.open(e,a,!0),o)t.setRequestHeader(d,o[d]);(function(n,e){function a(e){return e.port||{"http:":80,"https:":443}[e.protocol||n.protocol]}return!!(e.protocol&&e.protocol!=n.protocol||e.host&&e.host!=n.host||e.host&&a(e)!=a(n))})(m.location,{protocol:(i=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(a)||[])[1]||"",host:i[2]||"",port:i[3]||""})||t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.withCredentials=c,t.send(r)}catch(e){m.setTimeout(v(f,ue(X,X,e)),0)}}(o,new XMLHttpRequest,e,n,a,t,r),c(o),function(n,a){"use strict";var r,t={};function e(n){return function(e){r=n(r,e)}}for(var o in a)n(o).on(e(a[o]),t);n(ee).on(function(e){var n=K(r),a=U(n),t=Q(r);t&&(F(K(t))[a]=e)}),n(ne).on(function(){var e=K(r),n=U(e),a=Q(r);a&&delete F(K(a))[n]}),n(se).on(function(){for(var e in a)n(e).un(t)})}(o,G(o)),de(o,H),me(o,n)}function be(e,n,a,t,r,o,c){return r=r?s.parse(s.stringify(r)):{},t?(x(t)||(t=s.stringify(t),r["Content-Type"]=r["Content-Type"]||"application/json"),r["Content-Length"]=r["Content-Length"]||t.length):t=null,e(a||"GET",(i=n,!1===c&&(-1==i.indexOf("?")?i+="?":i+="&",i+="_="+(new Date).getTime()),i),t,r,o||!1);var i}function Pe(e){var n=q("resume","pause","pipe"),a=v(w,n);return e?a(e)||x(e)?be(ve,e):be(ve,e.url,e.method,e.body,e.headers,e.withCredentials,e.cached):ve()}Pe.drop=function(){return Pe.drop},"object"==typeof he?ge.exports=Pe:m.oboe=Pe}(function(){try{return window}catch(e){return self}}(),Object,Array,Error,JSON)},{}],20:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("./vnode"),s=e("./is");function t(e,n,a){var t,r,o,c={};if(void 0!==a?(c=n,s.array(a)?t=a:s.primitive(a)?r=a:a&&a.sel&&(t=[a])):void 0!==n&&(s.array(n)?t=n:s.primitive(n)?r=n:n&&n.sel?t=[n]:c=n),s.array(t))for(o=0;o<t.length;++o)s.primitive(t[o])&&(t[o]=i.vnode(void 0,void 0,void 0,t[o],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||function e(n,a,t){if(n.ns="http://www.w3.org/2000/svg","foreignObject"!==t&&void 0!==a)for(var r=0;r<a.length;++r){var o=a[r].data;void 0!==o&&e(o,a[r].children,a[r].sel)}}(c,t,e),i.vnode(e,c,t,r,void 0)}a.h=t,a.default=t},{"./is":22,"./vnode":28}],21:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.htmlDomApi={createElement:function(e){return document.createElement(e)},createElementNS:function(e,n){return document.createElementNS(e,n)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,n,a){e.insertBefore(n,a)},removeChild:function(e,n){e.removeChild(n)},appendChild:function(e,n){e.appendChild(n)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,n){e.textContent=n},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}},a.default=a.htmlDomApi},{}],22:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.array=Array.isArray,a.primitive=function(e){return"string"==typeof e||"number"==typeof e}},{}],23:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});function t(e,n){var a,t=n.elm,r=e.data.attrs,o=n.data.attrs;if((r||o)&&r!==o){for(a in r=r||{},o=o||{}){var c=o[a];r[a]!==c&&(!0===c?t.setAttribute(a,""):!1===c?t.removeAttribute(a):120!==a.charCodeAt(0)?t.setAttribute(a,c):58===a.charCodeAt(3)?t.setAttributeNS("http://www.w3.org/XML/1998/namespace",a,c):58===a.charCodeAt(5)?t.setAttributeNS("http://www.w3.org/1999/xlink",a,c):t.setAttribute(a,c))}for(a in r)a in o||t.removeAttribute(a)}}a.attributesModule={create:t,update:t},a.default=a.attributesModule},{}],24:[function(e,n,a){"use strict";function t(e,n){var a,t,r=n.elm,o=e.data.class,c=n.data.class;if((o||c)&&o!==c){for(t in c=c||{},o=o||{})c[t]||r.classList.remove(t);for(t in c)(a=c[t])!==o[t]&&r.classList[a?"add":"remove"](t)}}Object.defineProperty(a,"__esModule",{value:!0}),a.classModule={create:t,update:t},a.default=a.classModule},{}],25:[function(e,n,a){"use strict";function f(e,n){var a=e.type,t=n.data.on;t&&t[a]&&function e(n,a,t){if("function"==typeof n)n.call(a,t,a);else if("object"==typeof n)if("function"==typeof n[0])if(2===n.length)n[0].call(a,n[1],t,a);else{var r=n.slice(1);r.push(t),r.push(a),n[0].apply(a,r)}else for(var o=0;o<n.length;o++)e(n[o])}(t[a],n,e)}function t(e,n){var a,t=e.data.on,r=e.listener,o=e.elm,c=n&&n.data.on,i=n&&n.elm;if(t!==c){if(t&&r)if(c)for(a in t)c[a]||o.removeEventListener(a,r,!1);else for(a in t)o.removeEventListener(a,r,!1);if(c){var s=n.listener=e.listener||function e(n){f(n,e.vnode)};if(s.vnode=n,t)for(a in c)t[a]||i.addEventListener(a,s,!1);else for(a in c)i.addEventListener(a,s,!1)}}}Object.defineProperty(a,"__esModule",{value:!0}),a.eventListenersModule={create:t,update:t,destroy:t},a.default=a.eventListenersModule},{}],26:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("./vnode"),m=e("./is"),o=e("./htmldomapi");function N(e){return void 0===e}function R(e){return void 0!==e}var B=l.default("",{},[],void 0,void 0);function x(e,n){return e.key===n.key&&e.sel===n.sel}function k(e,n,a){var t,r,o,c={};for(t=n;t<=a;++t)null!=(o=e[t])&&void 0!==(r=o.key)&&(c[r]=t);return c}var c=["create","update","remove","destroy","pre","post"],t=e("./h");a.h=t.h;var r=e("./thunk");a.thunk=r.thunk,a.init=function(e,n){var a,t,d={},v=void 0!==n?n:o.default;for(a=0;a<c.length;++a)for(d[c[a]]=[],t=0;t<e.length;++t){var r=e[t][c[a]];void 0!==r&&d[c[a]].push(r)}function s(n,a){return function(){if(0==--a){var e=v.parentNode(n);v.removeChild(e,n)}}}function b(e,n){var a,t=e.data;void 0!==t&&R(a=t.hook)&&R(a=a.init)&&(a(e),t=e.data);var r=e.children,o=e.sel;if("!"===o)N(e.text)&&(e.text=""),e.elm=v.createComment(e.text);else if(void 0!==o){var c=o.indexOf("#"),i=o.indexOf(".",c),s=0<c?c:o.length,f=0<i?i:o.length,l=-1!==c||-1!==i?o.slice(0,Math.min(s,f)):o,p=e.elm=R(t)&&R(a=t.ns)?v.createElementNS(a,l):v.createElement(l);for(s<f&&p.setAttribute("id",o.slice(s+1,f)),0<i&&p.setAttribute("class",o.slice(f+1).replace(/\./g," ")),a=0;a<d.create.length;++a)d.create[a](B,e);if(m.array(r))for(a=0;a<r.length;++a){var u=r[a];null!=u&&v.appendChild(p,b(u,n))}else m.primitive(e.text)&&v.appendChild(p,v.createTextNode(e.text));R(a=e.data.hook)&&(a.create&&a.create(B,e),a.insert&&n.push(e))}else e.elm=v.createTextNode(e.text);return e.elm}function P(e,n,a,t,r,o){for(;t<=r;++t){var c=a[t];null!=c&&v.insertBefore(e,b(c,o),n)}}function f(e){var n,a,t=e.data;if(void 0!==t){for(R(n=t.hook)&&R(n=n.destroy)&&n(e),n=0;n<d.destroy.length;++n)d.destroy[n](e);if(void 0!==e.children)for(a=0;a<e.children.length;++a)null!=(n=e.children[a])&&"string"!=typeof n&&f(n)}}function g(e,n,a,t){for(;a<=t;++a){var r=void 0,o=void 0,c=void 0,i=n[a];if(null!=i)if(R(i.sel)){for(f(i),o=d.remove.length+1,c=s(i.elm,o),r=0;r<d.remove.length;++r)d.remove[r](i,c);R(r=i.data)&&R(r=r.hook)&&R(r=r.remove)?r(i,c):c()}else v.removeChild(e,i.elm)}}function h(e,n,a){var t,r;R(t=n.data)&&R(r=t.hook)&&R(t=r.prepatch)&&t(e,n);var o=n.elm=e.elm,c=e.children,i=n.children;if(e!==n){if(void 0!==n.data){for(t=0;t<d.update.length;++t)d.update[t](e,n);R(t=n.data.hook)&&R(t=t.update)&&t(e,n)}N(n.text)?R(c)&&R(i)?c!==i&&function(e,n,a,t){for(var r,o,c,i=0,s=0,f=n.length-1,l=n[0],p=n[f],u=a.length-1,d=a[0],m=a[u];i<=f&&s<=u;)null==l?l=n[++i]:null==p?p=n[--f]:null==d?d=a[++s]:null==m?m=a[--u]:x(l,d)?(h(l,d,t),l=n[++i],d=a[++s]):x(p,m)?(h(p,m,t),p=n[--f],m=a[--u]):x(l,m)?(h(l,m,t),v.insertBefore(e,l.elm,v.nextSibling(p.elm)),l=n[++i],m=a[--u]):(x(p,d)?(h(p,d,t),v.insertBefore(e,p.elm,l.elm),p=n[--f]):(void 0===r&&(r=k(n,i,f)),N(o=r[d.key])?v.insertBefore(e,b(d,t),l.elm):(c=n[o]).sel!==d.sel?v.insertBefore(e,b(d,t),l.elm):(h(c,d,t),n[o]=void 0,v.insertBefore(e,c.elm,l.elm))),d=a[++s]);(i<=f||s<=u)&&(f<i?P(e,null==a[u+1]?null:a[u+1].elm,a,s,u,t):g(e,n,i,f))}(o,c,i,a):R(i)?(R(e.text)&&v.setTextContent(o,""),P(o,null,i,0,i.length-1,a)):R(c)?g(o,c,0,c.length-1):R(e.text)&&v.setTextContent(o,""):e.text!==n.text&&v.setTextContent(o,n.text),R(r)&&R(t=r.postpatch)&&t(e,n)}}return function(e,n){var a,t,r,o,c,i,s=[];for(a=0;a<d.pre.length;++a)d.pre[a]();for(void 0===e.sel&&(c=(o=e).id?"#"+o.id:"",i=o.className?"."+o.className.split(" ").join("."):"",e=l.default(v.tagName(o).toLowerCase()+c+i,{},[],void 0,o)),x(e,n)?h(e,n,s):(t=e.elm,r=v.parentNode(t),b(n,s),null!==r&&(v.insertBefore(r,n.elm,v.nextSibling(t)),g(r,[e],0,0))),a=0;a<s.length;++a)s[a].data.hook.insert(s[a]);for(a=0;a<d.post.length;++a)d.post[a]();return n}}},{"./h":20,"./htmldomapi":21,"./is":22,"./thunk":27,"./vnode":28}],27:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("./h");function i(e,n){n.elm=e.elm,e.data.fn=n.data.fn,e.data.args=n.data.args,n.data=e.data,n.children=e.children,n.text=e.text,n.elm=e.elm}function o(e){var n=e.data;i(n.fn.apply(void 0,n.args),e)}function c(e,n){var a,t=e.data,r=n.data,o=t.args,c=r.args;if(t.fn===r.fn&&o.length===c.length){for(a=0;a<c.length;++a)if(o[a]!==c[a])return void i(r.fn.apply(void 0,c),n);i(e,n)}else i(r.fn.apply(void 0,c),n)}a.thunk=function(e,n,a,t){return void 0===t&&(t=a,a=n,n=void 0),r.h(e,{key:n,hook:{init:o,prepatch:c},fn:a,args:t})},a.default=a.thunk},{"./h":20}],28:[function(e,n,a){"use strict";function t(e,n,a,t,r){return{sel:e,data:n,children:a,text:t,elm:r,key:void 0===n?void 0:n.key}}Object.defineProperty(a,"__esModule",{value:!0}),a.vnode=t,a.default=t},{}],29:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("chess.js"),t=e("./puzzle"),r=function(){function e(e){this.gameAnalysis=e}return e.prototype.puzzles=function(e){var a=this,n=new o.Chess,t=[];this.gameAnalysis.moves.split(" ").forEach(function(e){t.push(n.fen()),n.move(e)}),n.history({verbose:!0}).forEach(function(e,n){a.gameAnalysis.analysis[n].move=e,a.gameAnalysis.analysis[n].halfMove=n+1,a.gameAnalysis.analysis[n].fen=t[n]});var r=this.gameAnalysis.players.white.user.id==e?"w":"b";return this.gameAnalysis.analysis=this.gameAnalysis.analysis.filter(function(e){return e.judgment}).filter(function(e){return e.move.color==r}),this.gameAnalysis.analysis.map(function(e){return a.toPuzzle(e)})},e.prototype.toPuzzle=function(e){return new t.Puzzle(e.fen,e.move,{from:e.best.substring(0,2),to:e.best.substring(2,4)})},e.prototype.example=function(){return[{id:"LU6oDId7",rated:!1,variant:"standard",players:{white:{user:{id:"copperhead",name:"Copperhead"},rating:1614,analysis:{inaccuracy:4,mistake:1,blunder:1,acpl:37}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:5,mistake:3,blunder:1,acpl:54}}},winner:"white",opening:{eco:"D10",name:"Slav Defense #2",ply:5},moves:"d4 c6 c4 d5 Nc3 Bf5 Bf4 e6 e3 Bd6 Bg3 Bxg3 hxg3 Nf6 Be2 Ne4 Nf3 Nxc3 bxc3 Nd7 cxd5 exd5 Nh4 Be6 Bd3 Nf6 Qc2 Qa5 Ke2 Ne4 Rhc1 O-O-O Bxe4 dxe4 Qxe4 Bc4+ Kd2 g6 Nf3 f5 Qc2 Bd5 Rcb1 Be4 Qb3 Bxb1 Rxb1 b6 Qe6+ Kb8 Qe5+ Qxe5 Nxe5 c5 Nc6+ Kc7 Nxd8 Rxd8 a4 cxd4 cxd4 Rd5 Rb5 Rxb5 axb5 a6 bxa6 Kb8 Kc3",analysis:[{eval:8},{eval:21},{eval:15},{eval:47},{eval:2},{eval:90,best:"g8f6",variation:"Nf6 cxd5 cxd5 Nf3 Nc6 Bf4 Nh5 Bd2 Nf6 e3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nf6."}},{eval:28,best:"d1b3",variation:"Qb3 Qb6 Qxb6 axb6 cxd5 Nf6 dxc6 Nxc6 e3 Nb4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qb3."}},{eval:25},{eval:12},{eval:38},{eval:10},{eval:25},{eval:24},{eval:23},{eval:4},{eval:54,best:"d8b6",variation:"Qb6 b3 Qb4 Qd2 O-O f3 h6 g4 Bg6 Nh3 dxc4 bxc4 Nbd7 Kf1",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qb6."}},{eval:20},{eval:23},{eval:20},{eval:55},{eval:35},{eval:41},{eval:32},{eval:42},{eval:0},{eval:52,best:"g7g6",variation:"g6 Nf3 O-O Kf1 Re8 Rh4 b6 g4 Nf6 Ne5 Nd7 Nf3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was g6."}},{eval:15},{eval:50},{eval:0,best:"e1g1",variation:"O-O",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was O-O."}},{eval:10},{eval:-6},{eval:96,best:"e4d6",variation:"Nd6 Nf3 Rc8 a4 g6 Nd2 O-O Kf1 Qd8 c4 c5 cxd5 cxd4 Qb2",judgment:{name:"Mistake",comment:"Mistake. Best move was Nd6."}},{eval:50},{eval:41},{eval:54},{eval:53},{eval:-15,best:"e2e1",variation:"Ke1 Kb8 Nf5 Rhg8 f3 Ka8 Kf2 g6 Nh6 Rge8 Qf4 f5 Kg1 a6",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Ke1."}},{eval:0},{eval:-35},{eval:55,best:"h8e8",variation:"Rhe8",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rhe8."}},{eval:31},{eval:71},{eval:-48,best:"d2e1",variation:"Ke1 c5 Kf1 Qa6+ Kg1 Bxf3 gxf3 h5 Kg2 h4 Rh1 hxg3 fxg3 Qe6",judgment:{name:"Mistake",comment:"Mistake. Best move was Ke1."}},{eval:-36},{eval:-45},{eval:-35},{eval:-46},{eval:20,best:"d8d7",variation:"Rd7 a4 Re8 Ke1 Rc7 Kf1 c5 c4 cxd4 exd4 Qb6 Qc2 Qc6 Ne5",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rd7."}},{eval:-43,best:"d2e2",variation:"Ke2 Rhe8 Kf1 Kb8 a4 Kb7 Kg1 Ka8 Rc1 Qa6 Ne5 Qb7 Rb1 Rb8",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Ke2."}},{eval:-46},{eval:-48},{eval:-43},{eval:-43},{eval:176,best:"d8c8",variation:"Rc8 Rh1 Kc7 a4 Rce8 c4 Re6 a5 bxa5 Ra1 Ra8 Rxa5 Kb6 Ra1",judgment:{name:"Mistake",comment:"Mistake. Best move was Rc8."}},{eval:169},{eval:174},{eval:177},{eval:176},{eval:161},{eval:177},{eval:145},{eval:153},{eval:148},{eval:314,best:"d5d8",variation:"Rd8 Rb1 Kd6 f3 Rd7 Kd3 Rf7 a5 bxa5 Rb5 Kc6 Rxa5 Kb6 Ra1",judgment:{name:"Mistake",comment:"Mistake. Best move was Rd8."}},{eval:268},{eval:1391,best:"c7d6",variation:"Kd6 Kc3",judgment:{name:"Blunder",comment:"Blunder. Best move was Kd6."}},{eval:1367},{eval:1322},{eval:557,best:"d4d5",variation:"d5 g5 d6 f4 exf4 gxf4 gxf4 h5 a7+ Kxa7 d7 Kb7 d8=Q h4",judgment:{name:"Blunder",comment:"Blunder. Best move was d5."}}],clock:{initial:300,increment:0,totalTime:300}}]},e}();a.Analysis=r},{"./puzzle":33,"chess.js":1}],30:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=e("snabbdom"),r=e("snabbdom/modules/class"),o=e("snabbdom/modules/attributes"),c=e("snabbdom/modules/eventlisteners"),i=function(){function e(e){this.patch=t.init([r.default,o.default,c.default]),this.puzzles=[],this.element=e}return e.prototype.setPuzzles=function(e){this.puzzles=e,this.redraw()},e.prototype.redraw=function(){this.vnode=this.patch(this.vnode||this.element,this.render(this.puzzles))},e.prototype.render=function(e){var n=e.map(function(e){return t.h("section.blue.merida",[t.h("div.cg-board-wrap",{hook:{insert:e.runUnit,postpatch:e.runUnit}}),t.h("p","Puzzle")])});return t.h("div#chessground-examples",n)},e}();a.Boards=i},{snabbdom:26,"snabbdom/modules/attributes":23,"snabbdom/modules/class":24,"snabbdom/modules/eventlisteners":25}],31:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("oboe"),t=function(){function e(e){this.url=e}return e.prototype.games=function(e,n,a,t){var r=[];o({method:"GET",url:this.url+"/games/export/"+e+"?max="+n+"&analysed=true&evals=true&moves=true&opening=true",headers:{Accept:"application/x-ndjson"}}).node("!",function(e){r.push(e),a(e)}).on("end",function(e){t(r)}).fail(function(e){console.error(JSON.stringify(e))})},e.prototype.example=function(){return[{id:"92zyN44u",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527871905598,lastMoveAt:1527872321799,status:"resign",players:{white:{user:{id:"jcarmen15",name:"Jcarmen15"},rating:1906,analysis:{inaccuracy:4,mistake:7,blunder:2,acpl:54}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:4,mistake:10,blunder:2,acpl:79}}},winner:"white",opening:{eco:"B13",name:"Caro-Kann Defense: Exchange Variation",ply:5},moves:"e4 c6 d4 d5 exd5 cxd5 Bd3 Nf6 Ne2 Nc6 Bf4 e6 Qd2 Bd6 Nbc3 Bxf4 Qxf4 Bd7 Qg5 O-O h4 Ne4 Qf4 Nxc3 bxc3 Qf6 g4 Qxf4 Nxf4 f5 g5 Ne7 h5 a6 Kd2 Bb5 Rag1 Be8 Nxe6 Rf7 g6 Rf6 gxh7+ Kxh7 Nf4 Rf7 h6 g6 Rg5 Rd8 Rhg1 Rd6 c4 a5 c5 Rc6 c4 Rff6 cxd5 Ra6 Bxa6 bxa6 d6 Ng8 Nd5 Re6 Nf4 Re4 Nxg6 Bxg6 Rxg6 Rg4 R6xg4 fxg4 Rxg4 Nxh6 Rf4 Kg7 f3 Nf7 Rxf7+ Kxf7 Kd3 Ke6 Kc4 Kd7 d5",analysis:[{eval:140,best:"a7a6",variation:"a6 Qf4 b5 O-O h6 a3 Rb8 Rad1 Re8 Qd6 Qb6 g3 Nxd4 Qxb6",judgment:{name:"Mistake",comment:"Mistake. Best move was a6."},move:{color:"b",from:"f6",to:"e4",flags:"n",piece:"n",san:"Ne4"},halfMove:22,fen:"r2q1rk1/pp1b1ppp/2n1pn2/3p2Q1/3P3P/2NB4/PPP1NPP1/R3K2R b KQ h3 0 11"},{eval:71,best:"a8c8",variation:"Rc8",judgment:{name:"Mistake",comment:"Mistake. Best move was Rc8."},move:{color:"b",from:"d8",to:"f6",flags:"n",piece:"q",san:"Qf6"},halfMove:26,fen:"r2q1rk1/pp1b1ppp/2n1p3/3p4/3P1Q1P/2PB4/P1P1NPP1/R3K2R b KQ - 0 13"},{eval:-35,best:"f6e7",variation:"Qe7 Rb1 e5 dxe5 Nxe5 Rxb7 Rfe8 O-O Qxh4 Qg3 Qxg3+ fxg3 Bxg4 Nf4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qe7."},move:{color:"b",from:"f6",to:"f4",flags:"c",piece:"q",captured:"q",san:"Qxf4"},halfMove:28,fen:"r4rk1/pp1b1ppp/2n1pq2/3p4/3P1QPP/2PB4/P1P1NP2/R3K2R b KQ g3 0 14"},{eval:66,best:"e6e5",variation:"e5 Nxd5 exd4 cxd4 Nxd4 O-O-O Bxg4 Bxh7+ Kxh7 Rxd4 Bf5 Rf4 Be6 Nc7",judgment:{name:"Mistake",comment:"Mistake. Best move was e5."},move:{color:"b",from:"f7",to:"f5",flags:"b",piece:"p",san:"f5"},halfMove:30,fen:"r4rk1/pp1b1ppp/2n1p3/3p4/3P1NPP/2PB4/P1P2P2/R3K2R b KQ - 0 15"},{eval:135,best:"e7c8",variation:"Nc8 g6 Rf6 gxh7+ Kxh7 f3 Nd6 Rb1 b6 Rg1 Rg8 Be2 Rh8 Ng6",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nc8."},move:{color:"b",from:"a7",to:"a6",flags:"n",piece:"p",san:"a6"},halfMove:34,fen:"r4rk1/pp1bn1pp/4p3/3p1pPP/3P1N2/2PB4/P1P2P2/R3K2R b KQ - 0 17"},{eval:332,best:"e7c8",variation:"Nc8 g6",judgment:{name:"Mistake",comment:"Mistake. Best move was Nc8."},move:{color:"b",from:"d7",to:"b5",flags:"n",piece:"b",san:"Bb5"},halfMove:36,fen:"r4rk1/1p1bn1pp/p3p3/3p1pPP/3P1N2/2PB4/P1PK1P2/R6R b - - 1 18"},{eval:460,best:"b5d7",variation:"Bd7 Re1 Kf7 c4 b5 c5 Rh8 Re3 Rac8 h6 g6 c3 Rce8 Rhe1",judgment:{name:"Mistake",comment:"Mistake. Best move was Bd7."},move:{color:"b",from:"b5",to:"e8",flags:"n",piece:"b",san:"Be8"},halfMove:38,fen:"r4rk1/1p2n1pp/p3p3/1b1p1pPP/3P1N2/2PB4/P1PK1P2/6RR b - - 3 19"},{eval:561,best:"h7g6",variation:"hxg6",judgment:{name:"Mistake",comment:"Mistake. Best move was hxg6."},move:{color:"b",from:"f7",to:"f6",flags:"n",piece:"r",san:"Rf6"},halfMove:42,fen:"r3b1k1/1p2nrpp/p3N1P1/3p1p1P/3P4/2PB4/P1PK1P2/6RR b - - 0 21"},{eval:708,best:"g8h8",variation:"Kh8 Re1 Rc8 Nxg7 Rf7 Ne6 Bd7 Nf4 Kxh7 Re5 Kh6 Rhe1 Ng8 Rg1",judgment:{name:"Mistake",comment:"Mistake. Best move was Kh8."},move:{color:"b",from:"g8",to:"h7",flags:"c",piece:"k",captured:"p",san:"Kxh7"},halfMove:44,fen:"r3b1k1/1p2n1pP/p3Nr2/3p1p1P/3P4/2PB4/P1PK1P2/6RR b - - 0 22"},{eval:447,best:"e8f7",variation:"Bf7 Rg5 b5 Rhg1 Kh6 Be2 Rg8 Bf3 Kh7 a3 Rh6 Kc1 Rf6 Kb2",judgment:{name:"Mistake",comment:"Mistake. Best move was Bf7."},move:{color:"b",from:"f6",to:"f7",flags:"n",piece:"r",san:"Rf7"},halfMove:46,fen:"r3b3/1p2n1pk/p4r2/3p1p1P/3P1N2/2PB4/P1PK1P2/6RR b - - 1 23"},{eval:453,best:"d5c4",variation:"dxc4 Nxg6",judgment:{name:"Blunder",comment:"Blunder. Best move was dxc4."},move:{color:"b",from:"a6",to:"a5",flags:"n",piece:"p",san:"a5"},halfMove:54,fen:"4b3/1p2nr1k/p2r2pP/3p1pR1/2PP1N2/3B4/P1PK1P2/6R1 b - - 0 27"},{eval:667,best:"d5c4",variation:"dxc4 Bxc4 Rff6 Re1 Rc7 Rg3 Rd7 Kc3 Bf7 Bxf7 Rxf7 Kc4 Rf6 Rge3",judgment:{name:"Mistake",comment:"Mistake. Best move was dxc4."},move:{color:"b",from:"f7",to:"f6",flags:"n",piece:"r",san:"Rff6"},halfMove:58,fen:"4b3/1p2nr1k/2r3pP/p1Pp1pR1/2PP1N2/3B4/P2K1P2/6R1 b - c3 0 29"},{eval:1009,best:"c6c8",variation:"Rc8 d6 Nc6 Nd5 Rf8 Kc3 Rd8 Nf4 Rf6 Bc4 b6 Nd5 Rfxd6 cxd6",judgment:{name:"Blunder",comment:"Blunder. Best move was Rc8."},move:{color:"b",from:"c6",to:"a6",flags:"n",piece:"r",san:"Ra6"},halfMove:60,fen:"4b3/1p2n2k/2r2rpP/p1PP1pR1/3P1N2/3B4/P2K1P2/6R1 b - - 0 30"},{eval:1270,best:"e7c6",variation:"Nc6 Kc3",judgment:{name:"Mistake",comment:"Mistake. Best move was Nc6."},move:{color:"b",from:"e7",to:"g8",flags:"n",piece:"n",san:"Ng8"},halfMove:64,fen:"4b3/4n2k/p2P1rpP/p1P2pR1/3P1N2/8/P2K1P2/6R1 b - - 0 32"},{mate:8,best:"g8h6",variation:"Nxh6 Rg7+",judgment:{name:"Inaccuracy",comment:"Checkmate is now unavoidable. Best move was Nxh6."},move:{color:"b",from:"e4",to:"g4",flags:"n",piece:"r",san:"Rg4"},halfMove:72,fen:"6n1/7k/p2P2RP/p1P2p2/3Pr3/8/P2K1P2/6R1 b - - 0 36"},{mate:9,best:"g8f6",variation:"Nf6 Rf4 Nd5 Rf7+ Kg6 d7 Kxf7 d8=Q Nf6 Qxf6+ Kxf6 h7 Kg7 c6",judgment:{name:"Inaccuracy",comment:"Checkmate is now unavoidable. Best move was Nf6."},move:{color:"b",from:"g8",to:"h6",flags:"c",piece:"n",captured:"p",san:"Nxh6"},halfMove:76,fen:"6n1/7k/p2P3P/p1P5/3P2R1/8/P2K1P2/8 b - - 0 38"}],clock:{initial:300,increment:0,totalTime:300}},{id:"kiq0tzlD",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527777666834,lastMoveAt:1527778119646,status:"resign",players:{white:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:4,mistake:2,blunder:3,acpl:92}},black:{user:{id:"vasif00",name:"vasif00"},rating:1762,analysis:{inaccuracy:2,mistake:1,blunder:5,acpl:138}}},winner:"white",opening:{eco:"C30",name:"King's Gambit Declined, Miles Defense",ply:6},moves:"e4 e5 f4 Nc6 Nf3 f5 d3 d6 Be2 Nf6 O-O Be7 fxe5 dxe5 exf5 O-O Nc3 Bxf5 Nxe5 Nxe5 Rxf5 Ng6 Bh5 Nh4 Rf1 g6 Be2 Qd4+ Kh1 c6 Bh6 Rfe8 Ne4 Nxe4 dxe4 Qxe4 Bf3 Nxf3 Rxf3 Rad8 Qf1 Qd5 Re1 Qb5 c4 Qxb2 Rxe7",analysis:[{eval:-61,best:"g1f3",variation:"Nf3 Nc6 Bb5 a6 Ba4 Nf6 O-O Be7 Re1 b5",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nf3."},move:{color:"w",from:"f2",to:"f4",flags:"b",piece:"p",san:"f4"},halfMove:3,fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2"},{eval:-52,best:"b1c3",variation:"Nc3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nc3."},move:{color:"w",from:"f4",to:"e5",flags:"c",piece:"p",captured:"p",san:"fxe5"},halfMove:13,fen:"r1bqk2r/ppp1b1pp/2np1n2/4pp2/4PP2/3P1N2/PPP1B1PP/RNBQ1RK1 w kq - 4 7"},{eval:-40,best:"g1h1",variation:"Kh1 e4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Kh1."},move:{color:"w",from:"b1",to:"c3",flags:"n",piece:"n",san:"Nc3"},halfMove:17,fen:"r1bq1rk1/ppp1b1pp/2n2n2/4pP2/8/3P1N2/PPP1B1PP/RNBQ1RK1 w - - 1 9"},{eval:-352,best:"g1h1",variation:"Kh1 Qd7 a3 Bc5 b4 Bd4 Bd2 a6 Qb1 h6 Nh4 Bh7 Nf3 Kh8",judgment:{name:"Blunder",comment:"Blunder. Best move was Kh1."},move:{color:"w",from:"f3",to:"e5",flags:"c",piece:"n",captured:"p",san:"Nxe5"},halfMove:19,fen:"r2q1rk1/ppp1b1pp/2n2n2/4pb2/8/2NP1N2/PPP1B1PP/R1BQ1RK1 w - - 0 10"},{eval:-129,best:"d3d4",variation:"d4 Qd7 Qd3 Kh8 Bg5 c6 Raf1 Rad8 Rd1 Rde8 a3 Bd8 Bxf6 Rxf6",judgment:{name:"Mistake",comment:"Mistake. Best move was d4."},move:{color:"w",from:"e2",to:"h5",flags:"n",piece:"b",san:"Bh5"},halfMove:23,fen:"r2q1rk1/ppp1b1pp/5nn1/5R2/8/2NP4/PPP1B1PP/R1BQ2K1 w - - 1 12"},{eval:-343,best:"f5f6",variation:"Rxf6",judgment:{name:"Mistake",comment:"Mistake. Best move was Rxf6."},move:{color:"w",from:"f5",to:"f1",flags:"n",piece:"r",san:"Rf1"},halfMove:25,fen:"r2q1rk1/ppp1b1pp/5n2/5R1B/7n/2NP4/PPP3PP/R1BQ2K1 w - - 3 13"},{eval:130,best:"f1f4",variation:"Rf4 Qd7 Rxh4 Nd5 Re4 Nf6 Rf4 Rae8 Rf1 Bb4 Bh6 Rf7 Bf3 Bf8",judgment:{name:"Blunder",comment:"Blunder. Best move was Rf4."},move:{color:"w",from:"c1",to:"h6",flags:"n",piece:"b",san:"Bh6"},halfMove:31,fen:"r4rk1/pp2b2p/2p2np1/8/3q3n/2NP4/PPP1B1PP/R1BQ1R1K w - - 0 16"},{eval:28,best:"f1f4",variation:"Rf4",judgment:{name:"Blunder",comment:"Blunder. Best move was Rf4."},move:{color:"w",from:"c3",to:"e4",flags:"n",piece:"n",san:"Ne4"},halfMove:33,fen:"r3r1k1/pp2b2p/2p2npB/8/3q3n/2NP4/PPP1B1PP/R2Q1R1K w - - 2 17"},{eval:-8,best:"f1f2",variation:"Rf2 Nf5 Bf4 Bh4 Bd3 Qd4 Rf1 Ne3 Bxe3 Rxe3 Bxg6 Qxd1 Bf7+ Kg7",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rf2."},move:{color:"w",from:"e2",to:"f3",flags:"n",piece:"b",san:"Bf3"},halfMove:37,fen:"r3r1k1/pp2b2p/2p3pB/8/4q2n/8/PPP1B1PP/R2Q1R1K w - - 0 19"}],clock:{initial:300,increment:0,totalTime:300}},{id:"mmQfcCGu",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527758114503,lastMoveAt:1527758668228,status:"outoftime",players:{white:{user:{id:"wearykahn",name:"Wearykahn"},rating:1555,analysis:{inaccuracy:6,mistake:5,blunder:2,acpl:53}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:7,mistake:8,blunder:2,acpl:65}}},winner:"white",opening:{eco:"B13",name:"Caro-Kann Defense: Exchange Variation",ply:5},moves:"e4 c6 d4 d5 exd5 Bf5 dxc6 Nxc6 c3 e6 Bb5 a6 Bxc6+ bxc6 b4 Nf6 Bb2 Nd5 Nf3 Bd6 Nbd2 Bd3 Nb3 Bc4 Na5 Bb5 a4 Nxb4 axb5 cxb5 O-O Nd5 Nb7 Qd7 Nxd6+ Qxd6 Qd2 Qf4 Qxf4 Nxf4 Rfe1 O-O Ne5 f6 Nd7 Rfd8 Nc5 Rd6 g3 Ng6 Rxe6 Rxe6 Nxe6 Ne7 Nc5 a5 Nb3 a4 Nc5 Nc6 Ba3 Na5 Kf1 Nc4 Ke2 Re8+ Kd3 Nxa3 Rxa3 Re1 Ra2 Rd1+ Ke2 Rb1 h4 h5 Nd3 Kf7 Nb4 g5 hxg5 fxg5 Kf3 g4+ Kg2 Ke6 Re2+ Kd6 Re5 Rb3 Rc5",analysis:[{eval:94,best:"c6d5",variation:"cxd5 Bd3 Nc6 c3 e5 dxe5 Nxe5 Qe2 Qe7 Be3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was cxd5."},move:{color:"b",from:"c8",to:"f5",flags:"n",piece:"b",san:"Bf5"},halfMove:6,fen:"rnbqkbnr/pp2pppp/2p5/3P4/3P4/8/PPP2PPP/RNBQKBNR b KQkq - 0 3"},{eval:99,best:"d8d5",variation:"Qd5 Bf1 e5 Nf3 exd4 cxd4 Bxb1 Rxb1 Bb4+ Bd2 Bxd2+ Qxd2 Nf6 Be2",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qd5."},move:{color:"b",from:"a7",to:"a6",flags:"n",piece:"p",san:"a6"},halfMove:12,fen:"r2qkbnr/pp3ppp/2n1p3/1B3b2/3P4/2P5/PP3PPP/RNBQK1NR b KQkq - 1 6"},{eval:106,best:"d5f4",variation:"Nf4 Rg1 Bb5 Nc1 a5 Qc2 axb4 c4 Ba4 Nb3 Qf6 Kf1 O-O Rd1",judgment:{name:"Mistake",comment:"Mistake. Best move was Nf4."},move:{color:"b",from:"d3",to:"c4",flags:"n",piece:"b",san:"Bc4"},halfMove:24,fen:"r2qk2r/5ppp/p1pbp3/3n4/1P1P4/1NPb1N2/PB3PPP/R2QK2R b KQkq - 8 12"},{eval:391,best:"d5b6",variation:"Nb6 Nxc4 Nxc4 Qb3 Nxb2 Qxb2 O-O a4 Qc7 O-O Rfb8 Rfc1 c5 dxc5",judgment:{name:"Mistake",comment:"Mistake. Best move was Nb6."},move:{color:"b",from:"c4",to:"b5",flags:"n",piece:"b",san:"Bb5"},halfMove:26,fen:"r2qk2r/5ppp/p1pbp3/N2n4/1PbP4/2P2N2/PB3PPP/R2QK2R b KQkq - 10 13"},{eval:637,best:"d8c7",variation:"Qc7 axb5 cxb5 O-O O-O Qd3 h6 Nb3 Nb6 Bc1 Rfc8 Nc5 a5 Qxb5",judgment:{name:"Mistake",comment:"Mistake. Best move was Qc7."},move:{color:"b",from:"d5",to:"b4",flags:"c",piece:"n",captured:"p",san:"Nxb4"},halfMove:28,fen:"r2qk2r/5ppp/p1pbp3/Nb1n4/PP1P4/2P2N2/1B3PPP/R2QK2R b KQkq a3 0 14"},{eval:757,best:"b4d5",variation:"Nd5 Nb7 Qc7 Nxd6+ Qxd6 O-O cxb5 c4 Nb4 Bc3 a5 Qb1 O-O Rxa5",judgment:{name:"Mistake",comment:"Mistake. Best move was Nd5."},move:{color:"b",from:"c6",to:"b5",flags:"c",piece:"p",captured:"p",san:"cxb5"},halfMove:30,fen:"r2qk2r/5ppp/p1pbp3/NP6/1n1P4/2P2N2/1B3PPP/R2QK2R b KQkq - 0 15"},{eval:322,best:"a6a5",variation:"a5",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was a5."},move:{color:"b",from:"f7",to:"f6",flags:"n",piece:"p",san:"f6"},halfMove:44,fen:"r4rk1/5ppp/p3p3/1p2N3/3P1n2/2P5/1B3PPP/R3R1K1 b - - 3 22"},{eval:397,best:"f8e8",variation:"Rfe8 Nc5 a5 g3 Nd5 Rxe6 Rxe6 Nxe6 a4 Kg2 g5 Nc5 g4 Kf1",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rfe8."},move:{color:"b",from:"f8",to:"d8",flags:"n",piece:"r",san:"Rfd8"},halfMove:46,fen:"r4rk1/3N2pp/p3pp2/1p6/3P1n2/2P5/1B3PPP/R3R1K1 b - - 1 23"},{eval:531,best:"f4d5",variation:"Nd5",judgment:{name:"Mistake",comment:"Mistake. Best move was Nd5."},move:{color:"b",from:"f4",to:"g6",flags:"n",piece:"n",san:"Ng6"},halfMove:50,fen:"r5k1/6pp/p2rpp2/1pN5/3P1n2/2P3P1/1B3P1P/R3R1K1 b - - 0 25"},{eval:483,best:"e7d5",variation:"Nd5 Kf1 Kf7 Ke2 a3 Rxa3 Rxa3 Bxa3 Nxc3+ Kd3 Nd5 Ne4 Ke6 Nc3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nd5."},move:{color:"b",from:"e7",to:"c6",flags:"n",piece:"n",san:"Nc6"},halfMove:60,fen:"r5k1/4n1pp/5p2/1pN5/p2P4/2P3P1/1B3P1P/R5K1 b - - 1 30"},{eval:485,best:"g8f7",variation:"Kf7 Kd3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Kf7."},move:{color:"b",from:"a8",to:"e8",flags:"n",piece:"r",san:"Re8+"},halfMove:66,fen:"r5k1/6pp/5p2/1pN5/p1nP4/B1P3P1/4KP1P/R7 b - - 7 33"},{eval:603,best:"f6f5",variation:"f5 Bc1 a3 Nb3 Ra8 d5 a2 Nd4 Nd6 Bf4 Ne4 f3 Nf6 d6",judgment:{name:"Mistake",comment:"Mistake. Best move was f5."},move:{color:"b",from:"c4",to:"a3",flags:"c",piece:"n",captured:"b",san:"Nxa3"},halfMove:68,fen:"4r1k1/6pp/5p2/1pN5/p1nP4/B1PK2P1/5P1P/R7 b - - 9 34"},{eval:944,best:"d1c1",variation:"Rc1 Kd2 Rh1 h4 g5 hxg5 Rf1 Nd3 fxg5 Rb2 a3 Ra2 h5 d5",judgment:{name:"Blunder",comment:"Blunder. Best move was Rc1."},move:{color:"b",from:"d1",to:"b1",flags:"n",piece:"r",san:"Rb1"},halfMove:74,fen:"6k1/6pp/5p2/1pN5/p2P4/2P3P1/R3KP1P/3r4 b - - 4 37"},{eval:954,best:"g8f7",variation:"Kf7 d5 b4 Nxa4 Rb3 cxb4 Ke7 Nc5 Rxb4 Ra6 Rd4 Re6+ Kd8 d6",judgment:{name:"Blunder",comment:"Blunder. Best move was Kf7."},move:{color:"b",from:"h7",to:"h5",flags:"b",piece:"p",san:"h5"},halfMove:76,fen:"6k1/6pp/5p2/1pN5/p2P3P/2P3P1/R3KP2/1r6 b - h3 0 38"},{eval:492,best:"b1b3",variation:"Rb3",judgment:{name:"Mistake",comment:"Mistake. Best move was Rb3."},move:{color:"b",from:"g5",to:"g4",flags:"n",piece:"p",san:"g4+"},halfMove:84,fen:"8/5k2/8/1p4pp/pN1P4/2P2KP1/R4P2/1r6 b - - 1 42"},{eval:509,best:"b1b3",variation:"Rb3 Nd5",judgment:{name:"Mistake",comment:"Mistake. Best move was Rb3."},move:{color:"b",from:"f7",to:"e6",flags:"n",piece:"k",san:"Ke6"},halfMove:86,fen:"8/5k2/8/1p5p/pN1P2p1/2P3P1/R4PK1/1r6 b - - 1 43"},{eval:536,best:"e6f7",variation:"Kf7 Re5 Rb3 Rf5+ Kg6 Rxb5 Rxc3 Nd5 Rc4 Nf4+ Kf7 Rb7+ Kf6 Nxh5+",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Kf7."},move:{color:"b",from:"e6",to:"d6",flags:"n",piece:"k",san:"Kd6"},halfMove:88,fen:"8/8/4k3/1p5p/pN1P2p1/2P3P1/4RPK1/1r6 b - - 3 44"}],clock:{initial:300,increment:0,totalTime:300}},{id:"NUdCwF0F",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527660912265,lastMoveAt:1527661082438,status:"mate",players:{white:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:2,mistake:1,blunder:0,acpl:29}},black:{user:{id:"darkartmaster",name:"DARKARTMASTER"},rating:1768,provisional:!0,analysis:{inaccuracy:1,mistake:4,blunder:1,acpl:84}}},winner:"white",opening:{eco:"C37",name:"King's Gambit Accepted, Muzio Gambit, Sarratt Defense",ply:12},moves:"e4 e5 f4 exf4 Nf3 g5 Bc4 g4 O-O gxf3 Qxf3 Qf6 d3 Bh6 Nc3 Nc6 Nd5 Qd4+ Kh1 Ne5 Qh5 Nxc4 dxc4 d6 Bxf4 Bxf4 Rxf4 Be6 Nxc7+ Kd7 Nxe6 fxe6 Rf7+ Kc6 Qb5#",analysis:[{eval:3,move:{color:"w",from:"e2",to:"e4",flags:"b",piece:"p",san:"e4"},halfMove:1,fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"},{eval:37,move:{color:"b",from:"e7",to:"e5",flags:"b",piece:"p",san:"e5"},halfMove:2,fen:"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1"},{eval:-61,best:"g1f3",variation:"Nf3 Nc6 Bb5 a6 Ba4 Nf6 O-O Be7 Re1 b5",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nf3."},move:{color:"w",from:"f2",to:"f4",flags:"b",piece:"p",san:"f4"},halfMove:3,fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2"},{eval:-39,move:{color:"b",from:"e5",to:"f4",flags:"c",piece:"p",captured:"p",san:"exf4"},halfMove:4,fen:"rnbqkbnr/pppp1ppp/8/4p3/4PP2/8/PPPP2PP/RNBQKBNR b KQkq f3 0 2"},{eval:-25,move:{color:"w",from:"g1",to:"f3",flags:"n",piece:"n",san:"Nf3"},halfMove:5,fen:"rnbqkbnr/pppp1ppp/8/8/4Pp2/8/PPPP2PP/RNBQKBNR w KQkq - 0 3"},{eval:-35,move:{color:"b",from:"g7",to:"g5",flags:"b",piece:"p",san:"g5"},halfMove:6,fen:"rnbqkbnr/pppp1ppp/8/8/4Pp2/5N2/PPPP2PP/RNBQKB1R b KQkq - 1 3"},{eval:-90,best:"h2h4",variation:"h4 d5 d4 dxe4 Nxg5 Nf6 Nc3 Bb4 Bc4 Bg4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was h4."},move:{color:"w",from:"f1",to:"c4",flags:"n",piece:"b",san:"Bc4"},halfMove:7,fen:"rnbqkbnr/pppp1p1p/8/6p1/4Pp2/5N2/PPPP2PP/RNBQKB1R w KQkq g6 0 4"},{eval:-99,move:{color:"b",from:"g5",to:"g4",flags:"n",piece:"p",san:"g4"},halfMove:8,fen:"rnbqkbnr/pppp1p1p/8/6p1/2B1Pp2/5N2/PPPP2PP/RNBQK2R b KQkq - 1 4"},{eval:-83,move:{color:"w",from:"e1",to:"g1",flags:"k",piece:"k",san:"O-O"},halfMove:9,fen:"rnbqkbnr/pppp1p1p/8/8/2B1Ppp1/5N2/PPPP2PP/RNBQK2R w KQkq - 0 5"},{eval:-73,move:{color:"b",from:"g4",to:"f3",flags:"c",piece:"p",captured:"n",san:"gxf3"},halfMove:10,fen:"rnbqkbnr/pppp1p1p/8/8/2B1Ppp1/5N2/PPPP2PP/RNBQ1RK1 b kq - 1 5"},{eval:-132,move:{color:"w",from:"d1",to:"f3",flags:"c",piece:"q",captured:"p",san:"Qxf3"},halfMove:11,fen:"rnbqkbnr/pppp1p1p/8/8/2B1Pp2/5p2/PPPP2PP/RNBQ1RK1 w kq - 0 6"},{eval:-105,move:{color:"b",from:"d8",to:"f6",flags:"n",piece:"q",san:"Qf6"},halfMove:12,fen:"rnbqkbnr/pppp1p1p/8/8/2B1Pp2/5Q2/PPPP2PP/RNB2RK1 b kq - 0 6"},{eval:-94,move:{color:"w",from:"d2",to:"d3",flags:"n",piece:"p",san:"d3"},halfMove:13,fen:"rnb1kbnr/pppp1p1p/5q2/8/2B1Pp2/5Q2/PPPP2PP/RNB2RK1 w kq - 1 7"},{eval:-54,move:{color:"b",from:"f8",to:"h6",flags:"n",piece:"b",san:"Bh6"},halfMove:14,fen:"rnb1kbnr/pppp1p1p/5q2/8/2B1Pp2/3P1Q2/PPP3PP/RNB2RK1 b kq - 0 7"},{eval:-70,move:{color:"w",from:"b1",to:"c3",flags:"n",piece:"n",san:"Nc3"},halfMove:15,fen:"rnb1k1nr/pppp1p1p/5q1b/8/2B1Pp2/3P1Q2/PPP3PP/RNB2RK1 w kq - 1 8"},{eval:0,best:"g8e7",variation:"Ne7 Bxf4 Qxf4 Qxf4 Bxf4 Rxf4 d6 Nb5 Na6 Bxf7+ Kd8 Raf1 Bd7 Nc3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Ne7."},move:{color:"b",from:"b8",to:"c6",flags:"n",piece:"n",san:"Nc6"},halfMove:16,fen:"rnb1k1nr/pppp1p1p/5q1b/8/2B1Pp2/2NP1Q2/PPP3PP/R1B2RK1 b kq - 2 8"},{eval:-7,move:{color:"w",from:"c3",to:"d5",flags:"n",piece:"n",san:"Nd5"},halfMove:17,fen:"r1b1k1nr/pppp1p1p/2n2q1b/8/2B1Pp2/2NP1Q2/PPP3PP/R1B2RK1 w kq - 3 9"},{eval:111,best:"f6d6",variation:"Qd6",judgment:{name:"Mistake",comment:"Mistake. Best move was Qd6."},move:{color:"b",from:"f6",to:"d4",flags:"n",piece:"q",san:"Qd4+"},halfMove:18,fen:"r1b1k1nr/pppp1p1p/2n2q1b/3N4/2B1Pp2/3P1Q2/PPP3PP/R1B2RK1 b kq - 4 9"},{eval:107,move:{color:"w",from:"g1",to:"h1",flags:"n",piece:"k",san:"Kh1"},halfMove:19,fen:"r1b1k1nr/pppp1p1p/2n4b/3N4/2BqPp2/3P1Q2/PPP3PP/R1B2RK1 w kq - 5 10"},{eval:379,best:"d4e5",variation:"Qe5 c3",judgment:{name:"Mistake",comment:"Mistake. Best move was Qe5."},move:{color:"b",from:"c6",to:"e5",flags:"n",piece:"n",san:"Ne5"},halfMove:20,fen:"r1b1k1nr/pppp1p1p/2n4b/3N4/2BqPp2/3P1Q2/PPP3PP/R1B2R1K b kq - 6 10"},{eval:367,move:{color:"w",from:"f3",to:"h5",flags:"n",piece:"q",san:"Qh5"},halfMove:21,fen:"r1b1k1nr/pppp1p1p/7b/3Nn3/2BqPp2/3P1Q2/PPP3PP/R1B2R1K w kq - 7 11"},{eval:402,move:{color:"b",from:"e5",to:"c4",flags:"c",piece:"n",captured:"b",san:"Nxc4"},halfMove:22,fen:"r1b1k1nr/pppp1p1p/7b/3Nn2Q/2BqPp2/3P4/PPP3PP/R1B2R1K b kq - 8 11"},{eval:405,move:{color:"w",from:"d3",to:"c4",flags:"c",piece:"p",captured:"n",san:"dxc4"},halfMove:23,fen:"r1b1k1nr/pppp1p1p/7b/3N3Q/2nqPp2/3P4/PPP3PP/R1B2R1K w kq - 0 12"},{eval:407,move:{color:"b",from:"d7",to:"d6",flags:"n",piece:"p",san:"d6"},halfMove:24,fen:"r1b1k1nr/pppp1p1p/7b/3N3Q/2PqPp2/8/PPP3PP/R1B2R1K b kq - 0 12"},{eval:403,move:{color:"w",from:"c1",to:"f4",flags:"c",piece:"b",captured:"p",san:"Bxf4"},halfMove:25,fen:"r1b1k1nr/ppp2p1p/3p3b/3N3Q/2PqPp2/8/PPP3PP/R1B2R1K w kq - 0 13"},{eval:385,move:{color:"b",from:"h6",to:"f4",flags:"c",piece:"b",captured:"b",san:"Bxf4"},halfMove:26,fen:"r1b1k1nr/ppp2p1p/3p3b/3N3Q/2PqPB2/8/PPP3PP/R4R1K b kq - 0 13"},{eval:425,move:{color:"w",from:"f1",to:"f4",flags:"c",piece:"r",captured:"b",san:"Rxf4"},halfMove:27,fen:"r1b1k1nr/ppp2p1p/3p4/3N3Q/2PqPb2/8/PPP3PP/R4R1K w kq - 0 14"},{eval:615,best:"c8d7",variation:"Bd7 Nxc7+ Kd8 Nxa8 f5 Rd1 Nf6 Rxd4 Nxh5 Rf1 Ng7 Rfd1 Ne8 e5",judgment:{name:"Mistake",comment:"Mistake. Best move was Bd7."},move:{color:"b",from:"c8",to:"e6",flags:"n",piece:"b",san:"Be6"},halfMove:28,fen:"r1b1k1nr/ppp2p1p/3p4/3N3Q/2PqPR2/8/PPP3PP/R6K b kq - 0 14"},{eval:606,move:{color:"w",from:"d5",to:"c7",flags:"c",piece:"n",captured:"p",san:"Nxc7+"},halfMove:29,fen:"r3k1nr/ppp2p1p/3pb3/3N3Q/2PqPR2/8/PPP3PP/R6K w kq - 1 15"},{eval:609,move:{color:"b",from:"e8",to:"d7",flags:"n",piece:"k",san:"Kd7"},halfMove:30,fen:"r3k1nr/ppN2p1p/3pb3/7Q/2PqPR2/8/PPP3PP/R6K b kq - 0 15"},{eval:572,move:{color:"w",from:"c7",to:"e6",flags:"c",piece:"n",captured:"b",san:"Nxe6"},halfMove:31,fen:"r5nr/ppNk1p1p/3pb3/7Q/2PqPR2/8/PPP3PP/R6K w - - 1 16"},{eval:1182,best:"d4e5",variation:"Qe5 Rxf7+",judgment:{name:"Blunder",comment:"Blunder. Best move was Qe5."},move:{color:"b",from:"f7",to:"e6",flags:"c",piece:"p",captured:"n",san:"fxe6"},halfMove:32,fen:"r5nr/pp1k1p1p/3pN3/7Q/2PqPR2/8/PPP3PP/R6K b - - 0 16"},{eval:812,best:"h5b5",variation:"Qb5+ Kd8 Rf8+ Ke7 Rxa8 Nh6 Qxb7+ Kf6 Rxh8 Kg5 Qe7+ Qf6 Rxh7 Qxe7",judgment:{name:"Mistake",comment:"Mistake. Best move was Qb5+."},move:{color:"w",from:"f4",to:"f7",flags:"n",piece:"r",san:"Rf7+"},halfMove:33,fen:"r5nr/pp1k3p/3pp3/7Q/2PqPR2/8/PPP3PP/R6K w - - 0 17"},{mate:1,best:"g8e7",variation:"Ne7 Qb5+ Kc8 Rxe7 Qb6 Qd7+ Kb8 Re8+ Rxe8 Qxe8+ Kc7 Qxa8 Qxb2 Rf1",judgment:{name:"Mistake",comment:"Checkmate is now unavoidable. Best move was Ne7."},move:{color:"b",from:"d7",to:"c6",flags:"n",piece:"k",san:"Kc6"},halfMove:34,fen:"r5nr/pp1k1R1p/3pp3/7Q/2PqP3/8/PPP3PP/R6K b - - 1 17"}],clock:{initial:300,increment:0,totalTime:300}},{id:"LU6oDId7",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527575053740,lastMoveAt:1527575430282,status:"resign",players:{white:{user:{id:"copperhead",name:"Copperhead"},rating:1614,analysis:{inaccuracy:4,mistake:1,blunder:1,acpl:37}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:5,mistake:3,blunder:1,acpl:54}}},winner:"white",opening:{eco:"D10",name:"Slav Defense #2",ply:5},moves:"d4 c6 c4 d5 Nc3 Bf5 Bf4 e6 e3 Bd6 Bg3 Bxg3 hxg3 Nf6 Be2 Ne4 Nf3 Nxc3 bxc3 Nd7 cxd5 exd5 Nh4 Be6 Bd3 Nf6 Qc2 Qa5 Ke2 Ne4 Rhc1 O-O-O Bxe4 dxe4 Qxe4 Bc4+ Kd2 g6 Nf3 f5 Qc2 Bd5 Rcb1 Be4 Qb3 Bxb1 Rxb1 b6 Qe6+ Kb8 Qe5+ Qxe5 Nxe5 c5 Nc6+ Kc7 Nxd8 Rxd8 a4 cxd4 cxd4 Rd5 Rb5 Rxb5 axb5 a6 bxa6 Kb8 Kc3",analysis:[{eval:90,best:"g8f6",variation:"Nf6 cxd5 cxd5 Nf3 Nc6 Bf4 Nh5 Bd2 Nf6 e3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nf6."},move:{color:"b",from:"c8",to:"f5",flags:"n",piece:"b",san:"Bf5"},halfMove:6,fen:"rnbqkbnr/pp2pppp/2p5/3p4/2PP4/2N5/PP2PPPP/R1BQKBNR b KQkq - 1 3"},{eval:54,best:"d8b6",variation:"Qb6 b3 Qb4 Qd2 O-O f3 h6 g4 Bg6 Nh3 dxc4 bxc4 Nbd7 Kf1",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qb6."},move:{color:"b",from:"f6",to:"e4",flags:"n",piece:"n",san:"Ne4"},halfMove:16,fen:"rn1qk2r/pp3ppp/2p1pn2/3p1b2/2PP4/2N1P1P1/PP2BPP1/R2QK1NR b KQkq - 2 8"},{eval:52,best:"g7g6",variation:"g6 Nf3 O-O Kf1 Re8 Rh4 b6 g4 Nf6 Ne5 Nd7 Nf3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was g6."},move:{color:"b",from:"d7",to:"f6",flags:"n",piece:"n",san:"Nf6"},halfMove:26,fen:"r2qk2r/pp1n1ppp/2p1b3/3p4/3P3N/2PBP1P1/P4PP1/R2QK2R b KQkq - 3 13"},{eval:96,best:"e4d6",variation:"Nd6 Nf3 Rc8 a4 g6 Nd2 O-O Kf1 Qd8 c4 c5 cxd5 cxd4 Qb2",judgment:{name:"Mistake",comment:"Mistake. Best move was Nd6."},move:{color:"b",from:"e8",to:"c8",flags:"q",piece:"k",san:"O-O-O"},halfMove:32,fen:"r3k2r/pp3ppp/2p1b3/q2p4/3Pn2N/2PBP1P1/P1Q1KPP1/R1R5 b kq - 9 16"},{eval:55,best:"h8e8",variation:"Rhe8",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rhe8."},move:{color:"b",from:"f7",to:"f5",flags:"b",piece:"p",san:"f5"},halfMove:40,fen:"2kr3r/pp3p1p/2p3p1/q7/2bPQ3/2P1PNP1/P2K1PP1/R1R5 b - - 1 20"},{eval:20,best:"d8d7",variation:"Rd7 a4 Re8 Ke1 Rc7 Kf1 c5 c4 cxd4 exd4 Qb6 Qc2 Qc6 Ne5",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rd7."},move:{color:"b",from:"b7",to:"b6",flags:"n",piece:"p",san:"b6"},halfMove:48,fen:"2kr3r/pp5p/2p3p1/q4p2/3P4/1QP1PNP1/P2K1PP1/1R6 b - - 0 24"},{eval:176,best:"d8c8",variation:"Rc8 Rh1 Kc7 a4 Rce8 c4 Re6 a5 bxa5 Ra1 Ra8 Rxa5 Kb6 Ra1",judgment:{name:"Mistake",comment:"Mistake. Best move was Rc8."},move:{color:"b",from:"c6",to:"c5",flags:"n",piece:"p",san:"c5"},halfMove:54,fen:"1k1r3r/p6p/1pp3p1/4Np2/3P4/2P1P1P1/P2K1PP1/1R6 b - - 0 27"},{eval:314,best:"d5d8",variation:"Rd8 Rb1 Kd6 f3 Rd7 Kd3 Rf7 a5 bxa5 Rb5 Kc6 Rxa5 Kb6 Ra1",judgment:{name:"Mistake",comment:"Mistake. Best move was Rd8."},move:{color:"b",from:"d5",to:"b5",flags:"c",piece:"r",captured:"r",san:"Rxb5"},halfMove:64,fen:"8/p1k4p/1p4p1/1R1r1p2/P2P4/4P1P1/3K1PP1/8 b - - 2 32"},{eval:1391,best:"c7d6",variation:"Kd6 Kc3",judgment:{name:"Blunder",comment:"Blunder. Best move was Kd6."},move:{color:"b",from:"a7",to:"a6",flags:"n",piece:"p",san:"a6"},halfMove:66,fen:"8/p1k4p/1p4p1/1P3p2/3P4/4P1P1/3K1PP1/8 b - - 0 33"}],clock:{initial:300,increment:0,totalTime:300}},{id:"fsai7SDG",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527516794575,lastMoveAt:1527517308592,status:"resign",players:{white:{user:{id:"matisegura96",name:"matisegura96"},rating:1611,analysis:{inaccuracy:7,mistake:7,blunder:1,acpl:73}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:6,mistake:8,blunder:0,acpl:62}}},winner:"black",opening:{eco:"B12",name:"Caro-Kann Defense: Advance Variation",ply:5},moves:"d4 c6 e4 d5 e5 Bf5 f4 e6 Nf3 h6 Be2 Qb6 c3 c5 Be3 c4 b3 Bxb1 Rxb1 Qa5 Qc2 b5 bxc4 bxc4 O-O Ne7 Rb7 Nf5 Bf2 Ba3 Rfb1 O-O R1b5 Qd8 Qa4 Bc1 g3 Be3 Rxa7 Bxf2+ Kxf2 Rxa7 Qxa7 Nc6 Qc5 Nfe7 Bd1 Qa8 a3 Qa7 Qxa7 Nxa7 Rb7 Nac6 Ba4 Ra8 Bb5 Rxa3 Rc7 Rxc3 Bxc6 Nxc6 Rxc6 Rc2+ Ke1 Rc3 Kd2 Rxf3 Kc2 Rf2+",analysis:[{eval:105,best:"f8b4",variation:"Bb4+ c3 Ba5 a4 Nd7 O-O Bb6 Nbd2 a5 b3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Bb4+."},move:{color:"b",from:"d8",to:"b6",flags:"n",piece:"q",san:"Qb6"},halfMove:12,fen:"rn1qkbnr/pp3pp1/2p1p2p/3pPb2/3P1P2/5N2/PPP1B1PP/RNBQK2R b KQkq - 1 6"},{eval:139,best:"b6b2",variation:"Qxb2 Qb3",judgment:{name:"Mistake",comment:"Mistake. Best move was Qxb2."},move:{color:"b",from:"c5",to:"c4",flags:"n",piece:"p",san:"c4"},halfMove:16,fen:"rn2kbnr/pp3pp1/1q2p2p/2ppPb2/3P1P2/2P1BN2/PP2B1PP/RN1QK2R b KQkq - 1 8"},{eval:310,best:"b8d7",variation:"Nd7 O-O Ne7 Nbd2 Qa5 bxc4 Qxc3 Qb3 Qxb3 axb3 h5 Nh4 g6 Nxf5",judgment:{name:"Mistake",comment:"Mistake. Best move was Nd7."},move:{color:"b",from:"f5",to:"b1",flags:"c",piece:"b",captured:"n",san:"Bxb1"},halfMove:18,fen:"rn2kbnr/pp3pp1/1q2p2p/3pPb2/2pP1P2/1PP1BN2/P3B1PP/RN1QK2R b KQkq - 0 9"},{eval:452,best:"c4b3",variation:"cxb3",judgment:{name:"Mistake",comment:"Mistake. Best move was cxb3."},move:{color:"b",from:"b6",to:"a5",flags:"n",piece:"q",san:"Qa5"},halfMove:20,fen:"rn2kbnr/pp3pp1/1q2p2p/3pP3/2pP1P2/1PP1BN2/P3B1PP/1R1QK2R b Kkq - 0 10"},{eval:443,best:"g8e7",variation:"Ne7 bxc4 dxc4 Bxc4 Qc7 Bd3 Nbc6 O-O b6 c4 Rc8 Qa4 Qd7 Qb5",judgment:{name:"Mistake",comment:"Mistake. Best move was Ne7."},move:{color:"b",from:"b7",to:"b5",flags:"b",piece:"p",san:"b5"},halfMove:22,fen:"rn2kbnr/pp3pp1/4p2p/q2pP3/2pP1P2/1PP1BN2/P1Q1B1PP/1R2K2R b Kkq - 2 11"},{eval:221,best:"a5a6",variation:"Qa6 Rfb1 Nd7 R7b5 h5 Nh4 g6 Bc1 Nb6 Bd1 Rb8 a4 Qc8 Ba3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qa6."},move:{color:"b",from:"e7",to:"f5",flags:"n",piece:"n",san:"Nf5"},halfMove:28,fen:"rn2kb1r/pR2npp1/4p2p/q2pP3/2pP1P2/2P1BN2/P1Q1B1PP/5RK1 b kq - 3 14"},{eval:347,best:"a5a6",variation:"Qa6 Rfb1 Nd7 g4 Ne7 f5 Nb6 Rc7 Rc8 Rxc8+ Qxc8 Nh4 Qd7 Bg3",judgment:{name:"Mistake",comment:"Mistake. Best move was Qa6."},move:{color:"b",from:"f8",to:"a3",flags:"n",piece:"b",san:"Ba3"},halfMove:30,fen:"rn2kb1r/pR3pp1/4p2p/q2pPn2/2pP1P2/2P2N2/P1Q1BBPP/5RK1 b kq - 5 15"},{eval:354,best:"b8d7",variation:"Nd7",judgment:{name:"Mistake",comment:"Mistake. Best move was Nd7."},move:{color:"b",from:"e8",to:"g8",flags:"k",piece:"k",san:"O-O"},halfMove:32,fen:"rn2k2r/pR3pp1/4p2p/q2pPn2/2pP1P2/b1P2N2/P1Q1BBPP/1R4K1 b kq - 7 16"},{eval:264,best:"a5a6",variation:"Qa6 g4 Ne7 Qb1 Nbc6 Bh4 Ng6 Bg3 Nd8 Rc7 Ne7 g5 Ndc6 gxh6",judgment:{name:"Mistake",comment:"Mistake. Best move was Qa6."},move:{color:"b",from:"a5",to:"d8",flags:"n",piece:"q",san:"Qd8"},halfMove:34,fen:"rn3rk1/pR3pp1/4p2p/qR1pPn2/2pP1P2/b1P2N2/P1Q1BBPP/6K1 b - - 9 17"},{eval:252,best:"d8e8",variation:"Qe8 Bd1 Nc6 Bc2 Ne3 Bxe3 Bxe3+ Kg2 Rb8 Rxb8 Nxb8 Rb1 Qxa4 Bxa4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qe8."},move:{color:"b",from:"c1",to:"e3",flags:"n",piece:"b",san:"Be3"},halfMove:38,fen:"rn1q1rk1/pR3pp1/4p2p/1R1pPn2/Q1pP1P2/2P2NP1/P3BB1P/2b3K1 b - - 0 19"},{eval:171,best:"b8c6",variation:"Nc6 Ra6 Nfe7 Bd1 Rb8 g4 Qc7 Rxb8 Qxb8 Rxc6 Nxc6 Qxc6 Qb1 Be2",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nc6."},move:{color:"b",from:"a8",to:"a7",flags:"c",piece:"r",captured:"r",san:"Rxa7"},halfMove:42,fen:"rn1q1rk1/R4pp1/4p2p/1R1pPn2/Q1pP1P2/2P2NP1/P3BK1P/8 b - - 0 21"},{eval:193,best:"d8a8",variation:"Qa8",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qa8."},move:{color:"b",from:"f5",to:"e7",flags:"n",piece:"n",san:"Nfe7"},halfMove:46,fen:"3q1rk1/5pp1/2n1p2p/1RQpPn2/2pP1P2/2P2NP1/P3BK1P/8 b - - 2 23"},{eval:237,best:"a3a7",variation:"Ra7 Rxa7 Nxa7 Ba4 Nec8 Ke3 f5 Kd2 Kf7 h3 Nb6 Bc2 Nb5 Ne1",judgment:{name:"Mistake",comment:"Mistake. Best move was Ra7."},move:{color:"b",from:"a3",to:"c3",flags:"c",piece:"r",captured:"p",san:"Rxc3"},halfMove:60,fen:"6k1/2R1npp1/2n1p2p/1B1pP3/2pP1P2/r1P2NP1/5K1P/8 b - - 1 30"},{eval:235,best:"c3c2",variation:"Rc2+ Ke1 Kf8 g4 g6 Ba4 Ra2 Bd1 Ke8 Rb7 Nc6 h3 Ra1 h4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rc2+."},move:{color:"b",from:"e7",to:"c6",flags:"c",piece:"n",captured:"b",san:"Nxc6"},halfMove:62,fen:"6k1/2R1npp1/2B1p2p/3pP3/2pP1P2/2r2NP1/5K1P/8 b - - 0 31"}],clock:{initial:300,increment:0,totalTime:300}},{id:"E7hZF1b4",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527503341833,lastMoveAt:1527503939681,status:"outoftime",players:{white:{user:{id:"kap",name:"kap"},rating:1645,analysis:{inaccuracy:6,mistake:9,blunder:3,acpl:74}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:9,mistake:5,blunder:3,acpl:90}}},winner:"black",opening:{eco:"B13",name:"Caro-Kann Defense: Exchange Variation",ply:5},moves:"e4 c6 d4 d5 exd5 cxd5 Nf3 Bf5 Bd3 Bxd3 Qxd3 e6 O-O Nc6 Bf4 Bd6 Be5 Bxe5 dxe5 Nge7 Nc3 Ng6 Rfe1 O-O a3 a6 Qd1 Qc7 Qe2 Nf4 Qd1 Ng6 Qe2 b5 Na2 Na5 Nb4 Nc4 g3 Nxb2 Nd4 Na4 Nbc6 Nc3 Qg4 Ne4 h4 h6 h5 Ne7 Nxe7+ Qxe7 a4 Qc5 Qd1 b4 Nb3 Qc7 Nd4 Nc3 Qg4 Ne4 Rxe4 dxe4 Qxe4 a5 Nb5 Qd8 Nd6 Qg5 Nb5 Qxh5 Nc7 Rac8 Nb5 Rfd8 Nd6 Rc3 Nb7 Rdc8 Nxa5 Rxc2 Nb7 Rc1+ Rxc1 Rxc1+ Kg2 Rc3 Nd6 Qf3+ Qxf3 Rxf3 Kxf3 f6 a5 fxe5 a6 b3 a7 b2 a8=Q+ Kh7 Qf8 b1=Q Qe7 Qf5+ Nxf5 exf5 Qxe5 f4 Qf5+ g6 Qxf4 g5",analysis:[{eval:-69,best:"f7f6",variation:"f6 exf6 Qxf6 Qf1 Rad8 Rad1 Nf4 Ne2 Nxg2 Qxg2 Qxf3 Qxf3 Rxf3 Nd4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was f6."},move:{color:"b",from:"a7",to:"a6",flags:"n",piece:"p",san:"a6"},halfMove:26,fen:"r2q1rk1/pp3ppp/2n1p1n1/3pP3/8/P1NQ1N2/1PP2PPP/R3R1K1 b - - 0 13"},{eval:-50,best:"f7f6",variation:"f6 exf6 Rxf6 Qe3 Raf8 Ne2 e5 Qb3 Rd8 Rad1 Na5 Qb4 h6 h3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was f6."},move:{color:"b",from:"g6",to:"f4",flags:"n",piece:"n",san:"Nf4"},halfMove:30,fen:"r4rk1/1pq2ppp/p1n1p1n1/3pP3/8/P1N2N2/1PP1QPPP/R3R1K1 b - - 3 15"},{eval:-64,best:"f7f6",variation:"f6 exf6 Rxf6 Qe3 Raf8 Ne2 e5 Qb3 Rd8 Rad1 Na5 Qb4 Rc6 Rc1",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was f6."},move:{color:"b",from:"b7",to:"b5",flags:"b",piece:"p",san:"b5"},halfMove:34,fen:"r4rk1/1pq2ppp/p1n1p1n1/3pP3/8/P1N2N2/1PP1QPPP/R3R1K1 b - - 7 17"},{eval:-182,best:"f8c8",variation:"Rfc8 h4",judgment:{name:"Mistake",comment:"Mistake. Best move was Rfc8."},move:{color:"b",from:"a4",to:"c3",flags:"n",piece:"n",san:"Nc3"},halfMove:44,fen:"r4rk1/2q2ppp/p1N1p1n1/1p1pP3/n2N4/P5P1/2P1QP1P/R3R1K1 b - - 3 22"},{eval:-212,best:"a8c8",variation:"Rac8",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rac8."},move:{color:"b",from:"c3",to:"e4",flags:"n",piece:"n",san:"Ne4"},halfMove:46,fen:"r4rk1/2q2ppp/p1N1p1n1/1p1pP3/3N2Q1/P1n3P1/2P2P1P/R3R1K1 b - - 5 23"},{eval:-255,best:"g6e5",variation:"Nxe5",judgment:{name:"Mistake",comment:"Mistake. Best move was Nxe5."},move:{color:"b",from:"h7",to:"h6",flags:"n",piece:"p",san:"h6"},halfMove:48,fen:"r4rk1/2q2ppp/p1N1p1n1/1p1pP3/3Nn1QP/P5P1/2P2P2/R3R1K1 b - h3 0 24"},{eval:-308,best:"g6e5",variation:"Nxe5 Qf4",judgment:{name:"Mistake",comment:"Mistake. Best move was Nxe5."},move:{color:"b",from:"g6",to:"e7",flags:"n",piece:"n",san:"Ne7"},halfMove:50,fen:"r4rk1/2q2pp1/p1N1p1np/1p1pP2P/3Nn1Q1/P5P1/2P2P2/R3R1K1 b - - 0 25"},{eval:-283,best:"e4c3",variation:"Nc3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nc3."},move:{color:"b",from:"b5",to:"b4",flags:"n",piece:"p",san:"b4"},halfMove:56,fen:"r4rk1/5pp1/p3p2p/1pqpP2P/P2Nn3/6P1/2P2P2/R2QR1K1 b - - 2 28"},{eval:-360,best:"c5f2",variation:"Qxf2+ Kh1 Nxg3#",judgment:{name:"Blunder",comment:"Lost forced checkmate sequence. Best move was Qxf2+."},move:{color:"b",from:"c5",to:"c7",flags:"n",piece:"q",san:"Qc7"},halfMove:58,fen:"r4rk1/5pp1/p3p2p/2qpP2P/Pp2n3/1N4P1/2P2P2/R2QR1K1 b - - 1 29"},{eval:-339,best:"f8c8",variation:"Rfc8 Nb3 Qxe5 Nd2 Rc3 Nxe4 dxe4 Kg2 Rac8 Rb1 Rxc2 Rxb4 e3 Re2",judgment:{name:"Mistake",comment:"Mistake. Best move was Rfc8."},move:{color:"b",from:"e4",to:"c3",flags:"n",piece:"n",san:"Nc3"},halfMove:60,fen:"r4rk1/2q2pp1/p3p2p/3pP2P/Pp1Nn3/6P1/2P2P2/R2QR1K1 b - - 3 30"},{eval:-286,best:"a8c8",variation:"Rac8",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rac8."},move:{color:"b",from:"c3",to:"e4",flags:"n",piece:"n",san:"Ne4"},halfMove:62,fen:"r4rk1/2q2pp1/p3p2p/3pP2P/Pp1N2Q1/2n3P1/2P2P2/R3R1K1 b - - 5 31"},{eval:-400,best:"a8c8",variation:"Rac8 a5 Rfd8 Re1 Qc3 Nf3 Rc4 Qb7 Qxc2 Qxa6 Rc3 Qb7 Rd5 Nh2",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Rac8."},move:{color:"b",from:"a6",to:"a5",flags:"n",piece:"p",san:"a5"},halfMove:66,fen:"r4rk1/2q2pp1/p3p2p/4P2P/Pp1NQ3/6P1/2P2P2/R5K1 b - - 0 33"},{eval:-719,best:"d8d1",variation:"Rd1+ Rxd1 Qxd1+ Kg2 Rxc2 Nd6 Rc1 g4 Qh1+ Kg3 Rg1+ Kf4 Qh3 Qa8+",judgment:{name:"Mistake",comment:"Mistake. Best move was Rd1+."},move:{color:"b",from:"d8",to:"c8",flags:"n",piece:"r",san:"Rdc8"},halfMove:80,fen:"3r2k1/1N3pp1/4p2p/p3P2q/Pp2Q3/2r3P1/2P2P2/R5K1 b - - 7 40"},{eval:-1283,best:"h5h1",variation:"Qh1#",judgment:{name:"Inaccuracy",comment:"Lost forced checkmate sequence. Best move was Qh1#."},move:{color:"b",from:"c1",to:"c3",flags:"n",piece:"r",san:"Rc3"},halfMove:88,fen:"6k1/1N3pp1/4p2p/4P2q/Pp2Q3/6P1/5PK1/2r5 b - - 1 44"},{eval:1625,best:"c3c1",variation:"Rc1",judgment:{name:"Blunder",comment:"Blunder. Best move was Rc1."},move:{color:"b",from:"h5",to:"f3",flags:"n",piece:"q",san:"Qf3+"},halfMove:90,fen:"6k1/5pp1/3Np2p/4P2q/Pp2Q3/2r3P1/5PK1/8 b - - 3 45"},{mate:11,best:"b4b3",variation:"b3 Nc4",judgment:{name:"Inaccuracy",comment:"Checkmate is now unavoidable. Best move was b3."},move:{color:"b",from:"f6",to:"e5",flags:"c",piece:"p",captured:"p",san:"fxe5"},halfMove:96,fen:"6k1/6p1/3Npp1p/P3P3/1p6/5KP1/5P2/8 b - - 0 48"},{mate:10,best:"b1d3",variation:"Qd3+ Kg2 e4 Qxe6 Qf3+ Kg1 e3 fxe3 Qxg3+ Kf1 Qf3+ Ke1 h5 Qe7",judgment:{name:"Blunder",comment:"Checkmate is now unavoidable. Best move was Qd3+."},move:{color:"b",from:"b1",to:"f5",flags:"n",piece:"q",san:"Qf5+"},halfMove:106,fen:"8/4Q1pk/3Np2p/4p3/8/5KP1/5P2/1q6 b - - 1 53"}],clock:{initial:300,increment:0,totalTime:300}},{id:"vjldoK5a",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527335481540,lastMoveAt:1527335823412,status:"mate",players:{white:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:6,mistake:3,blunder:1,acpl:59}},black:{user:{id:"kalyanthrone",name:"kalyanthrone"},rating:1871,analysis:{inaccuracy:4,mistake:3,blunder:3,acpl:101}}},winner:"white",opening:{eco:"C30",name:"King's Gambit",ply:3},moves:"e4 e5 f4 d6 Nf3 Nc6 Bc4 Bg4 O-O Nf6 d3 a6 a3 Be7 Be3 O-O Qe1 d5 Ba2 dxe4 dxe4 exf4 Bxf4 Re8 Ng5 Bh5 Nc3 h6 Nh3 Qc8 Qg3 Bg6 e5 Nh5 Qxg6 Nxf4 Nxf4 Rf8 Nh5 Bf6 exf6 Qg4 Qxg4 g6 Qxg6+ Kh8 Qg7#",analysis:[{eval:3,move:{color:"w",from:"e2",to:"e4",flags:"b",piece:"p",san:"e4"},halfMove:1,fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"},{eval:24,move:{color:"b",from:"e7",to:"e5",flags:"b",piece:"p",san:"e5"},halfMove:2,fen:"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1"},{eval:-61,best:"g1f3",variation:"Nf3 Nc6 Bb5 Nf6 d3 d6 c3 a6 Ba4 h6",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nf3."},move:{color:"w",from:"f2",to:"f4",flags:"b",piece:"p",san:"f4"},halfMove:3,fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2"},{eval:15,best:"e5f4",variation:"exf4 Nf3 d6 d4 g5 h4 g4 Ng1 Bh6 Nc3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was exf4."},move:{color:"b",from:"d7",to:"d6",flags:"n",piece:"p",san:"d6"},halfMove:4,fen:"rnbqkbnr/pppp1ppp/8/4p3/4PP2/8/PPPP2PP/RNBQKBNR b KQkq f3 0 2"},{eval:-23,move:{color:"w",from:"g1",to:"f3",flags:"n",piece:"n",san:"Nf3"},halfMove:5,fen:"rnbqkbnr/ppp2ppp/3p4/4p3/4PP2/8/PPPP2PP/RNBQKBNR w KQkq - 0 3"},{eval:14,move:{color:"b",from:"b8",to:"c6",flags:"n",piece:"n",san:"Nc6"},halfMove:6,fen:"rnbqkbnr/ppp2ppp/3p4/4p3/4PP2/5N2/PPPP2PP/RNBQKB1R b KQkq - 1 3"},{eval:-1,move:{color:"w",from:"f1",to:"c4",flags:"n",piece:"b",san:"Bc4"},halfMove:7,fen:"r1bqkbnr/ppp2ppp/2np4/4p3/4PP2/5N2/PPPP2PP/RNBQKB1R w KQkq - 2 4"},{eval:28,move:{color:"b",from:"c8",to:"g4",flags:"n",piece:"b",san:"Bg4"},halfMove:8,fen:"r1bqkbnr/ppp2ppp/2np4/4p3/2B1PP2/5N2/PPPP2PP/RNBQK2R b KQkq - 3 4"},{eval:-66,best:"d2d3",variation:"d3 Nd4 Be3 Bxf3 gxf3 Qh4+ Kd2 Qh3 Rf1 O-O-O",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was d3."},move:{color:"w",from:"e1",to:"g1",flags:"k",piece:"k",san:"O-O"},halfMove:9,fen:"r2qkbnr/ppp2ppp/2np4/4p3/2B1PPb1/5N2/PPPP2PP/RNBQK2R w KQkq - 4 5"},{eval:35,best:"e5f4",variation:"exf4 d4 g5 c3 Qe7 b4 Bg7 a4 Bxf3 gxf3",judgment:{name:"Mistake",comment:"Mistake. Best move was exf4."},move:{color:"b",from:"g8",to:"f6",flags:"n",piece:"n",san:"Nf6"},halfMove:10,fen:"r2qkbnr/ppp2ppp/2np4/4p3/2B1PPb1/5N2/PPPP2PP/RNBQ1RK1 b kq - 5 5"},{eval:30,move:{color:"w",from:"d2",to:"d3",flags:"n",piece:"p",san:"d3"},halfMove:11,fen:"r2qkb1r/ppp2ppp/2np1n2/4p3/2B1PPb1/5N2/PPPP2PP/RNBQ1RK1 w kq - 6 6"},{eval:77,move:{color:"b",from:"a7",to:"a6",flags:"n",piece:"p",san:"a6"},halfMove:12,fen:"r2qkb1r/ppp2ppp/2np1n2/4p3/2B1PPb1/3P1N2/PPP3PP/RNBQ1RK1 b kq - 0 6"},{eval:40,move:{color:"w",from:"a2",to:"a3",flags:"n",piece:"p",san:"a3"},halfMove:13,fen:"r2qkb1r/1pp2ppp/p1np1n2/4p3/2B1PPb1/3P1N2/PPP3PP/RNBQ1RK1 w kq - 0 7"},{eval:76,move:{color:"b",from:"f8",to:"e7",flags:"n",piece:"b",san:"Be7"},halfMove:14,fen:"r2qkb1r/1pp2ppp/p1np1n2/4p3/2B1PPb1/P2P1N2/1PP3PP/RNBQ1RK1 b kq - 0 7"},{eval:-37,best:"h2h3",variation:"h3 Bxf3",judgment:{name:"Mistake",comment:"Mistake. Best move was h3."},move:{color:"w",from:"c1",to:"e3",flags:"n",piece:"b",san:"Be3"},halfMove:15,fen:"r2qk2r/1pp1bppp/p1np1n2/4p3/2B1PPb1/P2P1N2/1PP3PP/RNBQ1RK1 w kq - 1 8"},{eval:10,move:{color:"b",from:"e8",to:"g8",flags:"k",piece:"k",san:"O-O"},halfMove:16,fen:"r2qk2r/1pp1bppp/p1np1n2/4p3/2B1PPb1/P2PBN2/1PP3PP/RN1Q1RK1 b kq - 2 8"},{eval:-86,best:"h2h3",variation:"h3 exf4 Bxf4 Be6 Bxe6 fxe6 Bh2 Qe8 Nbd2 Nh5 c3 Qg6 d4 Nf4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was h3."},move:{color:"w",from:"d1",to:"e1",flags:"n",piece:"q",san:"Qe1"},halfMove:17,fen:"r2q1rk1/1pp1bppp/p1np1n2/4p3/2B1PPb1/P2PBN2/1PP3PP/RN1Q1RK1 w - - 3 9"},{eval:55,best:"e5f4",variation:"exf4",judgment:{name:"Mistake",comment:"Mistake. Best move was exf4."},move:{color:"b",from:"d6",to:"d5",flags:"n",piece:"p",san:"d5"},halfMove:18,fen:"r2q1rk1/1pp1bppp/p1np1n2/4p3/2B1PPb1/P2PBN2/1PP3PP/RN2QRK1 b - - 4 9"},{eval:-82,best:"e4d5",variation:"exd5 exf4 dxc6 fxe3 cxb7 Rb8 Qxe3 Bxf3 Qxf3 Qd4+ Kh1 Qxb2 Nd2 Qxb7",judgment:{name:"Mistake",comment:"Mistake. Best move was exd5."},move:{color:"w",from:"c4",to:"a2",flags:"n",piece:"b",san:"Ba2"},halfMove:19,fen:"r2q1rk1/1pp1bppp/p1n2n2/3pp3/2B1PPb1/P2PBN2/1PP3PP/RN2QRK1 w - - 0 10"},{eval:-51,move:{color:"b",from:"d5",to:"e4",flags:"c",piece:"p",captured:"p",san:"dxe4"},halfMove:20,fen:"r2q1rk1/1pp1bppp/p1n2n2/3pp3/4PPb1/P2PBN2/BPP3PP/RN2QRK1 b - - 1 10"},{eval:-73,move:{color:"w",from:"d3",to:"e4",flags:"c",piece:"p",captured:"p",san:"dxe4"},halfMove:21,fen:"r2q1rk1/1pp1bppp/p1n2n2/4p3/4pPb1/P2PBN2/BPP3PP/RN2QRK1 w - - 0 11"},{eval:-73,move:{color:"b",from:"e5",to:"f4",flags:"c",piece:"p",captured:"p",san:"exf4"},halfMove:22,fen:"r2q1rk1/1pp1bppp/p1n2n2/4p3/4PPb1/P3BN2/BPP3PP/RN2QRK1 b - - 0 11"},{eval:-45,move:{color:"w",from:"e3",to:"f4",flags:"c",piece:"b",captured:"p",san:"Bxf4"},halfMove:23,fen:"r2q1rk1/1pp1bppp/p1n2n2/8/4Ppb1/P3BN2/BPP3PP/RN2QRK1 w - - 0 12"},{eval:45,best:"g4f3",variation:"Bxf3 gxf3 Bc5+ Kh1 Nh5 Be3 Bxe3 Qxe3 Nd4 Qf2 Ne6 Nc3 c6 Rad1",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Bxf3."},move:{color:"b",from:"f8",to:"e8",flags:"n",piece:"r",san:"Re8"},halfMove:24,fen:"r2q1rk1/1pp1bppp/p1n2n2/8/4PBb1/P4N2/BPP3PP/RN2QRK1 b - - 0 12"},{eval:-6,best:"b1c3",variation:"Nc3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nc3."},move:{color:"w",from:"f3",to:"g5",flags:"n",piece:"n",san:"Ng5"},halfMove:25,fen:"r2qr1k1/1pp1bppp/p1n2n2/8/4PBb1/P4N2/BPP3PP/RN2QRK1 w - - 1 13"},{eval:20,move:{color:"b",from:"g4",to:"h5",flags:"n",piece:"b",san:"Bh5"},halfMove:26,fen:"r2qr1k1/1pp1bppp/p1n2n2/6N1/4PBb1/P7/BPP3PP/RN2QRK1 b - - 2 13"},{eval:14,move:{color:"w",from:"b1",to:"c3",flags:"n",piece:"n",san:"Nc3"},halfMove:27,fen:"r2qr1k1/1pp1bppp/p1n2n2/6Nb/4PB2/P7/BPP3PP/RN2QRK1 w - - 3 14"},{eval:38,move:{color:"b",from:"h7",to:"h6",flags:"n",piece:"p",san:"h6"},halfMove:28,fen:"r2qr1k1/1pp1bppp/p1n2n2/6Nb/4PB2/P1N5/BPP3PP/R3QRK1 b - - 4 14"},{eval:-23,best:"g5f3",variation:"Nf3 Bd6 Rd1 Qb8 Bxd6 cxd6 Qe3 Qa7 Qxa7 Rxa7 Rxd6 Nxe4 Nxe4 Rxe4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nf3."},move:{color:"w",from:"g5",to:"h3",flags:"n",piece:"n",san:"Nh3"},halfMove:29,fen:"r2qr1k1/1pp1bpp1/p1n2n1p/6Nb/4PB2/P1N5/BPP3PP/R3QRK1 w - - 0 15"},{eval:155,best:"e7c5",variation:"Bc5+ Kh1",judgment:{name:"Mistake",comment:"Mistake. Best move was Bc5+."},move:{color:"b",from:"d8",to:"c8",flags:"n",piece:"q",san:"Qc8"},halfMove:30,fen:"r2qr1k1/1pp1bpp1/p1n2n1p/7b/4PB2/P1N4N/BPP3PP/R3QRK1 b - - 1 15"},{eval:-8,best:"f4e3",variation:"Be3 Bg4 Nf4 Bd6 h3 Be6 Nxe6 Rxe6 Rd1 a5 Bxe6 Qxe6 Bf4 Bxf4",judgment:{name:"Mistake",comment:"Mistake. Best move was Be3."},move:{color:"w",from:"e1",to:"g3",flags:"n",piece:"q",san:"Qg3"},halfMove:31,fen:"r1q1r1k1/1pp1bpp1/p1n2n1p/7b/4PB2/P1N4N/BPP3PP/R3QRK1 w - - 2 16"},{eval:648,best:"c8g4",variation:"Qg4 Nd5 Rac8 Qxg4 Nxg4 Nxe7+ Rxe7 Rae1 Rce8 Bg3 g5 Nf2 Nf6 e5",judgment:{name:"Blunder",comment:"Blunder. Best move was Qg4."},move:{color:"b",from:"h5",to:"g6",flags:"n",piece:"b",san:"Bg6"},halfMove:32,fen:"r1q1r1k1/1pp1bpp1/p1n2n1p/7b/4PB2/P1N3QN/BPP3PP/R4RK1 b - - 3 16"},{eval:238,best:"g3g6",variation:"Qxg6 Bc5+ Kh1 Re6 Qg3 Bd4 Bxe6 Qxe6 Bxh6 Nh5 Qf3 Nf6 Nf4 Qg4",judgment:{name:"Blunder",comment:"Blunder. Best move was Qxg6."},move:{color:"w",from:"e4",to:"e5",flags:"n",piece:"p",san:"e5"},halfMove:33,fen:"r1q1r1k1/1pp1bpp1/p1n2nbp/8/4PB2/P1N3QN/BPP3PP/R4RK1 w - - 4 17"},{eval:690,best:"f6g4",variation:"Ng4 e6",judgment:{name:"Blunder",comment:"Blunder. Best move was Ng4."},move:{color:"b",from:"f6",to:"h5",flags:"n",piece:"n",san:"Nh5"},halfMove:34,fen:"r1q1r1k1/1pp1bpp1/p1n2nbp/4P3/5B2/P1N3QN/BPP3PP/R4RK1 b - - 0 17"},{eval:685,move:{color:"w",from:"g3",to:"g6",flags:"c",piece:"q",captured:"b",san:"Qxg6"},halfMove:35,fen:"r1q1r1k1/1pp1bpp1/p1n3bp/4P2n/5B2/P1N3QN/BPP3PP/R4RK1 w - - 1 18"},{eval:677,move:{color:"b",from:"h5",to:"f4",flags:"c",piece:"n",captured:"b",san:"Nxf4"},halfMove:36,fen:"r1q1r1k1/1pp1bpp1/p1n3Qp/4P2n/5B2/P1N4N/BPP3PP/R4RK1 b - - 0 18"},{eval:667,move:{color:"w",from:"h3",to:"f4",flags:"c",piece:"n",captured:"n",san:"Nxf4"},halfMove:37,fen:"r1q1r1k1/1pp1bpp1/p1n3Qp/4P3/5n2/P1N4N/BPP3PP/R4RK1 w - - 0 19"},{eval:1912,best:"c6e5",variation:"Nxe5 Bxf7+ Kh8 Qh5 Bg5 Bxe8 Qxe8 Qxe8+ Rxe8 Ncd5 c6 Rae1 Kh7 Nd3",judgment:{name:"Blunder",comment:"Blunder. Best move was Nxe5."},move:{color:"b",from:"e8",to:"f8",flags:"n",piece:"r",san:"Rf8"},halfMove:38,fen:"r1q1r1k1/1pp1bpp1/p1n3Qp/4P3/5N2/P1N5/BPP3PP/R4RK1 b - - 0 19"},{eval:1831,move:{color:"w",from:"f4",to:"h5",flags:"n",piece:"n",san:"Nh5"},halfMove:39,fen:"r1q2rk1/1pp1bpp1/p1n3Qp/4P3/5N2/P1N5/BPP3PP/R4RK1 w - - 1 20"},{mate:2,best:"c8g4",variation:"Qg4 Qxg4 Bg5 e6 fxe6 Rxf8+ Rxf8 Qxe6+ Kh8 Bd5 Ne7 Qe5 Bf6 Nxf6",judgment:{name:"Inaccuracy",comment:"Checkmate is now unavoidable. Best move was Qg4."},move:{color:"b",from:"e7",to:"f6",flags:"n",piece:"b",san:"Bf6"},halfMove:40,fen:"r1q2rk1/1pp1bpp1/p1n3Qp/4P2N/8/P1N5/BPP3PP/R4RK1 b - - 2 20"},{eval:2411,best:"h5f6",variation:"Nxf6+ Kh8 Qh7#",judgment:{name:"Inaccuracy",comment:"Lost forced checkmate sequence. Best move was Nxf6+."},move:{color:"w",from:"e5",to:"f6",flags:"c",piece:"p",captured:"b",san:"exf6"},halfMove:41,fen:"r1q2rk1/1pp2pp1/p1n2bQp/4P2N/8/P1N5/BPP3PP/R4RK1 w - - 3 21"},{eval:2352,move:{color:"b",from:"c8",to:"g4",flags:"n",piece:"q",san:"Qg4"},halfMove:42,fen:"r1q2rk1/1pp2pp1/p1n2PQp/7N/8/P1N5/BPP3PP/R4RK1 b - - 0 21"},{eval:2288,move:{color:"w",from:"g6",to:"g4",flags:"c",piece:"q",captured:"q",san:"Qxg4"},halfMove:43,fen:"r4rk1/1pp2pp1/p1n2PQp/7N/6q1/P1N5/BPP3PP/R4RK1 w - - 1 22"},{mate:2,best:"g7g5",variation:"g5 Qd7",judgment:{name:"Inaccuracy",comment:"Checkmate is now unavoidable. Best move was g5."},move:{color:"b",from:"g7",to:"g6",flags:"n",piece:"p",san:"g6"},halfMove:44,fen:"r4rk1/1pp2pp1/p1n2P1p/7N/6Q1/P1N5/BPP3PP/R4RK1 b - - 0 22"},{mate:1,move:{color:"w",from:"g4",to:"g6",flags:"c",piece:"q",captured:"p",san:"Qxg6+"},halfMove:45,fen:"r4rk1/1pp2p2/p1n2Ppp/7N/6Q1/P1N5/BPP3PP/R4RK1 w - - 0 23"},{mate:1,move:{color:"b",from:"g8",to:"h8",flags:"n",piece:"k",san:"Kh8"},halfMove:46,fen:"r4rk1/1pp2p2/p1n2PQp/7N/8/P1N5/BPP3PP/R4RK1 b - - 0 23"}],clock:{initial:300,increment:0,totalTime:300}},{id:"gcrMLiyg",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527318544074,lastMoveAt:1527319015134,status:"resign",players:{white:{user:{id:"lemonia",name:"lemonia"},rating:1702,analysis:{inaccuracy:4,mistake:5,blunder:4,acpl:68}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:4,mistake:11,blunder:2,acpl:71}}},winner:"white",opening:{eco:"D10",name:"Slav Defense: Exchange Variation",ply:5},moves:"d4 c6 c4 d5 cxd5 cxd5 Nf3 Bf5 Nc3 e6 Qb3 Qb6 Qxb6 axb6 Nb5 Na6 Bf4 Nf6 Be5 Ne4 e3 Bb4+ Kd1 Bf8 Nd2 Nxd2 Kxd2 Bb4+ Nc3 O-O Rc1 Rac8 Bd3 Bxd3 Kxd3 Be7 Na4 Rxc1 Rxc1 Nb4+ Ke2 Nxa2 Rc7 b5 Nb6 Bd8 Rxb7 Bxb6 Rxb6 Rc8 Rxb5 Rc2+ Kf3 Rc8 Rb8 Rxb8 Bxb8 f6 Ke2 f5 Bd6 g6 b4 Nc3+ Kd3 Nb5 Bc5 Kf7 f3 h5 e4 fxe4+ fxe4 dxe4+ Kxe4 Kf6 g3 g5 h3 g4 hxg4 hxg4 Bb6 e5 d5 Nc3+ Kd3 Nxd5 Bc5 Nc7 Bb6 Nb5 Bd8+ Ke6 Bg5 Kd5 Be3 Nd6 Bc5 e4+ Ke3 Nb5 Kf4 Nc3 Kxg4",analysis:[{eval:15,best:"e4f2",variation:"Nxf2+",judgment:{name:"Blunder",comment:"Blunder. Best move was Nxf2+."},move:{color:"b",from:"b4",to:"f8",flags:"n",piece:"b",san:"Bf8"},halfMove:24,fen:"r3k2r/1p3ppp/np2p3/1N1pBb2/1b1Pn3/4PN2/PP3PPP/R2K1B1R b kq - 2 12"},{eval:42,best:"e4f2",variation:"Nxf2+ Ke1 Nxh1 Nd6+ Bxd6 Bxd6 f6 Ba3 Rc8 Bb5+ Kf7 Ke2 Bg4+ Ke1",judgment:{name:"Blunder",comment:"Blunder. Best move was Nxf2+."},move:{color:"b",from:"e4",to:"d2",flags:"c",piece:"n",captured:"n",san:"Nxd2"},halfMove:26,fen:"r3kb1r/1p3ppp/np2p3/1N1pBb2/3Pn3/4P3/PP1N1PPP/R2K1B1R b kq - 4 13"},{eval:26,best:"a6b4",variation:"Nb4+ Kd2",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nb4+."},move:{color:"b",from:"c8",to:"c1",flags:"c",piece:"r",captured:"r",san:"Rxc1"},halfMove:38,fen:"2r2rk1/1p2bppp/np2p3/3pB3/N2P4/3KP3/PP3PPP/2R4R b - - 2 19"},{eval:129,best:"f7f6",variation:"f6 Bg3 Ra8 Rc7 Rxa4 Rxe7 Rxa2 Kf3 Rxb2 Rxe6 b5 Rb6 Na2 Kg4",judgment:{name:"Mistake",comment:"Mistake. Best move was f6."},move:{color:"b",from:"b4",to:"a2",flags:"c",piece:"n",captured:"p",san:"Nxa2"},halfMove:42,fen:"5rk1/1p2bppp/1p2p3/3pB3/Nn1P4/4P3/PP2KPPP/2R5 b - - 2 21"},{eval:175,best:"f7f6",variation:"f6 Rxe7 fxe5 Rxe6 b5 Nc5 exd4 exd4 Nb4 Rd6 Rf4 Rd8+ Kf7 Rd7+",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was f6."},move:{color:"b",from:"b6",to:"b5",flags:"n",piece:"p",san:"b5"},halfMove:44,fen:"5rk1/1pR1bppp/1p2p3/3pB3/N2P4/4P3/nP2KPPP/8 b - - 1 22"},{eval:167,best:"e7b4",variation:"Bb4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Bb4."},move:{color:"b",from:"e7",to:"d8",flags:"n",piece:"b",san:"Bd8"},halfMove:46,fen:"5rk1/1pR1bppp/1N2p3/1p1pB3/3P4/4P3/nP2KPPP/8 b - - 1 23"},{eval:402,best:"f7f6",variation:"f6 Rb8 Rxb8 Bxb8 Nb4 Bd6 Nc6 Bc5 Kf7 b4 Ke8 b5 Na5 Kd2",judgment:{name:"Mistake",comment:"Mistake. Best move was f6."},move:{color:"b",from:"c8",to:"c2",flags:"n",piece:"r",san:"Rc2+"},halfMove:52,fen:"2r3k1/5ppp/4p3/1R1pB3/3P4/4P3/nP2KPPP/8 b - - 0 26"},{eval:271,best:"h7h5",variation:"h5 h3 Nc1 Rc5 Rc4 Bd6 Nb3 Rc7 Rxc7 Bxc7 Kf8 Bd6+ Ke8 Ke2",judgment:{name:"Mistake",comment:"Mistake. Best move was h5."},move:{color:"b",from:"c2",to:"c8",flags:"n",piece:"r",san:"Rc8"},halfMove:54,fen:"6k1/5ppp/4p3/1R1pB3/3P4/4PK2/nPr2PPP/8 b - - 2 27"},{eval:247,best:"g8f8",variation:"Kf8 Bd6+",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Kf8."},move:{color:"b",from:"f7",to:"f6",flags:"n",piece:"p",san:"f6"},halfMove:58,fen:"1B4k1/5ppp/4p3/3p4/3P4/4PK2/nP3PPP/8 b - - 0 29"},{eval:400,best:"a2b4",variation:"Nb4 Bd6 Nc6 Bc5 Kf7 b4 Ke8 b5 Na5 Kd3 g6 Kc3 Kd7 Kb4",judgment:{name:"Mistake",comment:"Mistake. Best move was Nb4."},move:{color:"b",from:"f6",to:"f5",flags:"n",piece:"p",san:"f5"},halfMove:60,fen:"1B4k1/6pp/4pp2/3p4/3P4/4P3/nP2KPPP/8 b - - 1 30"},{eval:522,best:"a2c1",variation:"Nc1+ Kd2 Nb3+ Kc3 Na5 Be5 Kf7 b4 Nc4 b5 g6 Kb4 Ke7 Kc5",judgment:{name:"Mistake",comment:"Mistake. Best move was Nc1+."},move:{color:"b",from:"g7",to:"g6",flags:"n",piece:"p",san:"g6"},halfMove:62,fen:"6k1/6pp/3Bp3/3p1p2/3P4/4P3/nP2KPPP/8 b - - 1 31"},{eval:329,best:"f7f6",variation:"Kf6 h3 Kg5 Ke3 Kf6 Kf3 g5 e5+ Kg6 g4 Na3 Ba7 Nb5 Bb6",judgment:{name:"Mistake",comment:"Mistake. Best move was Kf6."},move:{color:"b",from:"d5",to:"e4",flags:"c",piece:"p",captured:"p",san:"dxe4+"},halfMove:74,fen:"8/5k2/4p1p1/1nBp3p/1P1PP3/3K4/6PP/8 b - - 0 37"},{eval:432,best:"b5a3",variation:"Na3 d5 exd5+ Kxd5 Kf5 Kc6 Ke4 Be7 Kf3 Bxg5 Kxg3 h4 Kf3 b5",judgment:{name:"Mistake",comment:"Mistake. Best move was Na3."},move:{color:"b",from:"g5",to:"g4",flags:"n",piece:"p",san:"g4"},halfMove:80,fen:"8/8/4pk2/1nB3pp/1P1PK3/6PP/8/8 b - - 0 40"},{eval:492,best:"b5c3",variation:"Nc3+ Kd3",judgment:{name:"Mistake",comment:"Mistake. Best move was Nc3+."},move:{color:"b",from:"e6",to:"e5",flags:"n",piece:"p",san:"e5"},halfMove:84,fen:"8/8/1B2pk2/1n6/1P1PK1p1/6P1/8/8 b - - 1 42"},{eval:282,best:"f6e6",variation:"Ke6 b5 Nf6 b6 Kd7 b7 Kc7 Bd6+ Kxb7 Bxe5 Nh5 Kd4 Nxg3 Bxg3",judgment:{name:"Mistake",comment:"Mistake. Best move was Ke6."},move:{color:"b",from:"d5",to:"c7",flags:"n",piece:"n",san:"Nc7"},halfMove:90,fen:"8/8/5k2/2Bnp3/1P4p1/3K2P1/8/8 b - - 1 45"},{eval:180,best:"c7e8",variation:"Ne8 b5 Ke6 Bc5 Kd5 b6 Kc6 b7 Kxb7 Ke4 Kc6 Bb4 Ng7 Bc3",judgment:{name:"Mistake",comment:"Mistake. Best move was Ne8."},move:{color:"b",from:"c7",to:"b5",flags:"n",piece:"n",san:"Nb5"},halfMove:92,fen:"8/2n5/1B3k2/4p3/1P4p1/3K2P1/8/8 b - - 3 46"},{eval:113,best:"b5d4",variation:"Nd4 Bb6 Kc4 Kxe4 Ne2 Bf2 Nxg3+ Bxg3 Kxb4 Kd3 Kb3 Be1 Ka2 Kc2",judgment:{name:"Mistake",comment:"Mistake. Best move was Nd4."},move:{color:"b",from:"b5",to:"c3",flags:"n",piece:"n",san:"Nc3"},halfMove:104,fen:"8/8/8/1nBk4/1P2pKp1/6P1/8/8 b - - 3 52"}],clock:{initial:300,increment:0,totalTime:300}},{id:"sIEz7HyE",rated:!1,variant:"standard",speed:"blitz",perf:"blitz",createdAt:1527267893360,lastMoveAt:1527268477898,status:"outoftime",players:{white:{user:{id:"zybex9",name:"Zybex9"},rating:1678,analysis:{inaccuracy:2,mistake:4,blunder:3,acpl:107}},black:{user:{id:"tailuge",name:"tailuge"},rating:1611,analysis:{inaccuracy:5,mistake:2,blunder:3,acpl:83}}},winner:"black",opening:{eco:"A04",name:"Zukertort Opening: Slav Invitation",ply:2},moves:"Nf3 c6 c4 d5 cxd5 cxd5 d4 Bf5 Nc3 e6 Bg5 Be7 h4 Bxg5 hxg5 Nc6 e3 Nge7 Bb5 Bg6 Ne5 Qc7 Nxg6 Nxg6 Qa4 a6 Bxc6+ Qxc6 Qa3 b5 Rc1 Qb6 Ne2 b4 Qa4+ Qb5 Qb3 O-O a4 Qa5 Rc5 Qb6 a5 Qb7 Nc3 Rfc8 Na4 Rxc5 Nxc5 Qb5 e4 Nf4 Qf3 e5 exd5 Qc4 Nb3 Nd3+ Kd2 Nxb2 d6 Rc8 Nc5 Qb5 Qf5 Nc4+ Ke1 Nxd6 Qxh7+ Kf8 Qh8+ Ke7 Qxc8 Nxc8",analysis:[{eval:41,best:"b8d7",variation:"Nd7 e3",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Nd7."},move:{color:"b",from:"e7",to:"g5",flags:"c",piece:"b",captured:"b",san:"Bxg5"},halfMove:14,fen:"rn1qk1nr/pp2bppp/4p3/3p1bB1/3P3P/2N2N2/PP2PPP1/R2QKB1R b KQkq h3 0 7"},{eval:60,best:"e7g6",variation:"Ng6",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Ng6."},move:{color:"b",from:"f5",to:"g6",flags:"n",piece:"b",san:"Bg6"},halfMove:20,fen:"r2qk2r/pp2nppp/2n1p3/1B1p1bP1/3P4/2N1PN2/PP3PP1/R2QK2R b KQkq - 2 10"},{eval:51,best:"b4a3",variation:"bxa3 Qxa3 Rfc8 Kd2 Rcb8 Ke1 a5 Rc5 Qb6 Rc2 Rc8 Rd2 Rab8 Kf1",judgment:{name:"Mistake",comment:"Mistake. Best move was bxa3."},move:{color:"b",from:"b5",to:"a5",flags:"n",piece:"q",san:"Qa5"},halfMove:40,fen:"r4rk1/5ppp/p3p1n1/1q1p2P1/Pp1P4/1Q2P3/1P2NPP1/2R1K2R b K a3 0 20"},{eval:55,best:"b7e7",variation:"Qe7 Na4 Qxg5 Kf1 Nh4 g3 Nf5 Nb6 Rad8 Qd1 Nd6 Kg2 Qg6 Qe2",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was Qe7."},move:{color:"b",from:"f8",to:"c8",flags:"n",piece:"r",san:"Rfc8"},halfMove:46,fen:"r4rk1/1q3ppp/p3p1n1/P1Rp2P1/1p1P4/1QN1P3/1P3PP1/4K2R b K - 2 23"},{eval:-84,best:"d5e4",variation:"dxe4 Qh3 Kf8 Qg4 e5 Nd7+ Kg8 Nxe5 Nxe5 dxe5 Qc4 g6 fxg6 Qe2",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was dxe4."},move:{color:"b",from:"g6",to:"f4",flags:"n",piece:"n",san:"Nf4"},halfMove:52,fen:"r5k1/5ppp/p3p1n1/PqNp2P1/1p1PP3/1Q6/1P3PP1/4K2R b K - 0 26"},{eval:-1,best:"b4b3",variation:"b3 Kd2",judgment:{name:"Mistake",comment:"Mistake. Best move was b3."},move:{color:"b",from:"b5",to:"c4",flags:"n",piece:"q",san:"Qc4"},halfMove:56,fen:"r5k1/5ppp/p7/PqNPp1P1/1p1P1n2/5Q2/1P3PP1/4K2R b K - 0 28"},{eval:-268,best:"e5d4",variation:"exd4 Qe4",judgment:{name:"Inaccuracy",comment:"Inaccuracy. Best move was exd4."},move:{color:"b",from:"f4",to:"d3",flags:"n",piece:"n",san:"Nd3+"},halfMove:58,fen:"r5k1/5ppp/p7/P2Pp1P1/1pqP1n2/1N3Q2/1P3PP1/4K2R b K - 2 29"},{eval:77,best:"c4b3",variation:"Qxb3 Qxd3 Qxb2+ Qc2 Qxd4+ Ke2 Qg4+ Kf1 h6 Rh3 Rc8 Qb1 Qxg5 Re3",judgment:{name:"Blunder",comment:"Blunder. Best move was Qxb3."},move:{color:"b",from:"d3",to:"b2",flags:"c",piece:"n",captured:"p",san:"Nxb2"},halfMove:60,fen:"r5k1/5ppp/p7/P2Pp1P1/1pqP4/1N1n1Q2/1P1K1PP1/7R b - - 4 30"},{eval:612,best:"a8d8",variation:"Rd8 Qh3 h5 gxh6 gxh6 Rc1 Qb5 Qg4+ Kf8 Qe2 Qxe2+ Kxe2 Rxd6 dxe5",judgment:{name:"Blunder",comment:"Blunder. Best move was Rd8."},move:{color:"b",from:"a8",to:"c8",flags:"n",piece:"r",san:"Rc8"},halfMove:62,fen:"r5k1/5ppp/p2P4/P3p1P1/1pqP4/1N3Q2/1n1K1PP1/7R b - - 0 31"},{eval:113,best:"c4d4",variation:"Qxd4+",judgment:{name:"Blunder",comment:"Blunder. Best move was Qxd4+."},move:{color:"b",from:"c4",to:"b5",flags:"n",piece:"q",san:"Qb5"},halfMove:64,fen:"2r3k1/5ppp/p2P4/P1N1p1P1/1pqP4/5Q2/1n1K1PP1/7R b - - 2 32"}],clock:{initial:300,increment:0,totalTime:300}}]},e}();a.LichessApi=t},{oboe:19}],32:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=e("./lichessApi");a.LichessApi=t.LichessApi;var r=e("./boards");a.Boards=r.Boards;var o=e("./analysis");a.Analysis=o.Analysis},{"./analysis":29,"./boards":30,"./lichessApi":31}],33:[function(e,n,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var c=e("chess.js"),i=e("chessground"),s=e("./util"),t=function(){function e(e,n,a){var t=this;this.runUnit=function(e){var n=e.elm;n.className="cg-board-wrap",t.run(n)},this.initialFen=e,this.movePlayed=n,this.bestMove=a}return e.prototype.run=function(e){var a=this,t=new c.Chess(this.initialFen),n=s.toColor(t),r={orientation:n,turnColor:n,fen:this.initialFen,movable:{color:n,free:!1,dests:s.toDests(t)}},o=i.Chessground(e,r);return o.set({movable:{events:{after:function(e,n){t.move({from:e,to:n}),o.set({turnColor:s.toColor(t),movable:{color:s.toColor(t),dests:s.toDests(t)},drawable:{shapes:[{orig:a.movePlayed.from,dest:a.movePlayed.to,brush:"red"},{orig:a.bestMove.from,dest:a.bestMove.to,brush:"green"}]}})}}},drawable:{shapes:[{orig:this.movePlayed.from,dest:this.movePlayed.to,brush:"red"}]},events:{select:function(e){o.set({drawable:{shapes:[{orig:a.movePlayed.from,dest:a.movePlayed.to,brush:"red"},{orig:e,brush:"blue"}]}})}}}),o},e}();a.Puzzle=t},{"./util":34,"chess.js":1,chessground:5}],34:[function(e,n,a){"use strict";function r(a){var t={};return a.SQUARES.forEach(function(e){var n=a.moves({square:e,verbose:!0});n.length&&(t[e]=n.map(function(e){return e.to}))}),t}function o(e){return"w"===e.turn()?"white":"black"}Object.defineProperty(a,"__esModule",{value:!0}),a.toDests=r,a.toColor=o,a.playOtherSide=function(a,t){return function(e,n){t.move({from:e,to:n}),a.set({turnColor:o(t),movable:{color:o(t),dests:r(t)}})}}},{}]},{},[32])(32)});